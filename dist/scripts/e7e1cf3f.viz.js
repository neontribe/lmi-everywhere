d3=function(){function e(e){return null!=e&&!isNaN(e)}function t(e){return e.length}function n(e){for(var t=1;e*t%1;)t*=10;return t}function i(e,t){try{for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}catch(i){e.prototype=t}}function r(){}function o(){}function a(e,t,n){return function(){var i=n.apply(t,arguments);return i===t?e:i}}function s(){}function l(e){function t(){for(var t,i=n,r=-1,o=i.length;o>++r;)(t=i[r].on)&&t.apply(this,arguments);return e}var n=[],i=new r;return t.on=function(t,r){var o,a=i.get(t);return 2>arguments.length?a&&a.on:(a&&(a.on=null,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),i.remove(t)),r&&n.push(i.set(t,{on:r})),e)},t}function u(){sa.event.stopPropagation(),sa.event.preventDefault()}function c(){for(var e,t=sa.event;e=t.sourceEvent;)t=e;return t}function d(e,t){function n(){e.on(t,null)}e.on(t,function(){u(),n()},!0),setTimeout(n,0)}function h(e){for(var t=new s,n=0,i=arguments.length;i>++n;)t[arguments[n]]=l(t);return t.of=function(n,i){return function(r){try{var o=r.sourceEvent=sa.event;r.target=e,sa.event=r,t[r.type].apply(n,i)}finally{sa.event=o}}},t}function f(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();if(0>ga&&(ua.scrollX||ua.scrollY)){n=sa.select(la.body).append("svg").style("position","absolute").style("top",0).style("left",0);var r=n[0][0].getScreenCTM();ga=!(r.f||r.e),n.remove()}return ga?(i.x=t.pageX,i.y=t.pageY):(i.x=t.clientX,i.y=t.clientY),i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}function p(e){for(var t=-1,n=e.length,i=[];n>++t;)i.push(e[t]);return i}function m(e){return Array.prototype.slice.call(e)}function g(e){return ya(e,ka),e}function v(e){return function(){return xa(e,this)}}function b(e){return function(){return wa(e,this)}}function y(e,t){function n(){this.removeAttribute(e)}function i(){this.removeAttributeNS(e.space,e.local)}function r(){this.setAttribute(e,t)}function o(){this.setAttributeNS(e.space,e.local,t)}function a(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}function s(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=sa.ns.qualify(e),null==t?e.local?i:n:"function"==typeof t?e.local?s:a:e.local?o:r}function x(e){return e.trim().replace(/\s+/g," ")}function w(e){return RegExp("(?:^|\\s+)"+sa.requote(e)+"(?:\\s+|$)","g")}function _(e,t){function n(){for(var n=-1;r>++n;)e[n](this,t)}function i(){for(var n=-1,i=t.apply(this,arguments);r>++n;)e[n](this,i)}e=e.trim().split(/\s+/).map(C);var r=e.length;return"function"==typeof t?i:n}function C(e){var t=w(e);return function(n,i){if(r=n.classList)return i?r.add(e):r.remove(e);var r=n.getAttribute("class")||"";i?(t.lastIndex=0,t.test(r)||n.setAttribute("class",x(r+" "+e))):n.setAttribute("class",x(r.replace(t," ")))}}function T(e,t,n){function i(){this.style.removeProperty(e)}function r(){this.style.setProperty(e,t,n)}function o(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,n)}return null==t?i:"function"==typeof t?o:r}function k(e,t){function n(){delete this[e]}function i(){this[e]=t}function r(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?n:"function"==typeof t?r:i}function E(e){return{__data__:e}}function D(e){return function(){return Ta(this,e)}}function M(e){return arguments.length||(e=sa.ascending),function(t,n){return!t-!n||e(t.__data__,n.__data__)}}function S(){}function j(e,t,n){function i(){var t=this[a];t&&(this.removeEventListener(e,t,t.$),delete this[a])}function r(){var r=l(t,va(arguments));i.call(this),this.addEventListener(e,this[a]=r,r.$=n),r._=t}function o(){var t,n=RegExp("^__on([^.]+)"+sa.requote(e)+"$");for(var i in this)if(t=i.match(n)){var r=this[i];this.removeEventListener(t[1],r,r.$),delete this[i]}}var a="__on"+e,s=e.indexOf("."),l=N;s>0&&(e=e.substring(0,s));var u=Ma.get(e);return u&&(e=u,l=P),s?t?r:i:t?S:o}function N(e,t){return function(n){var i=sa.event;sa.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{sa.event=i}}}function P(e,t){var n=N(e,t);return function(e){var t=this,i=e.relatedTarget;i&&(i===t||8&i.compareDocumentPosition(t))||n.call(t,e)}}function A(e,t){for(var n=0,i=e.length;i>n;n++)for(var r,o=e[n],a=0,s=o.length;s>a;a++)(r=o[a])&&t(r,a,n);return e}function q(e){return ya(e,Sa),e}function L(){}function H(e,t,n){return new O(e,t,n)}function O(e,t,n){this.h=e,this.s=t,this.l=n}function F(e,t,n){function i(e){return e>360?e-=360:0>e&&(e+=360),60>e?o+(a-o)*e/60:180>e?a:240>e?o+(a-o)*(240-e)/60:o}function r(e){return Math.round(255*i(e))}var o,a;return e=isNaN(e)?0:0>(e%=360)?e+360:e,t=isNaN(t)?0:0>t?0:t>1?1:t,n=0>n?0:n>1?1:n,a=.5>=n?n*(1+t):n+t-n*t,o=2*n-a,tt(r(e+120),r(e),r(e-120))}function I(e){return e>0?1:0>e?-1:0}function B(e){return Math.acos(Math.max(-1,Math.min(1,e)))}function R(e){return e>1?La/2:-1>e?-La/2:Math.asin(e)}function z(e){return(Math.exp(e)-Math.exp(-e))/2}function W(e){return(Math.exp(e)+Math.exp(-e))/2}function U(e){return(e=Math.sin(e/2))*e}function $(e,t,n){return new V(e,t,n)}function V(e,t,n){this.h=e,this.c=t,this.l=n}function X(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),G(n,Math.cos(e*=Oa)*t,Math.sin(e)*t)}function G(e,t,n){return new K(e,t,n)}function K(e,t,n){this.l=e,this.a=t,this.b=n}function Y(e,t,n){var i=(e+16)/116,r=i+t/500,o=i-n/200;return r=Z(r)*Ra,i=Z(i)*za,o=Z(o)*Wa,tt(et(3.2404542*r-1.5371385*i-.4985314*o),et(-.969266*r+1.8760108*i+.041556*o),et(.0556434*r-.2040259*i+1.0572252*o))}function Q(e,t,n){return e>0?$(Math.atan2(n,t)*Fa,Math.sqrt(t*t+n*n),e):$(0/0,0/0,e)}function Z(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function J(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function et(e){return Math.round(255*(.00304>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function tt(e,t,n){return new nt(e,t,n)}function nt(e,t,n){this.r=e,this.g=t,this.b=n}function it(e){return 16>e?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function rt(e,t,n){var i,r,o,a=0,s=0,l=0;if(i=/([a-z]+)\((.*)\)/i.exec(e))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return t(lt(r[0]),lt(r[1]),lt(r[2]))}return(o=Va.get(e))?t(o.r,o.g,o.b):(null!=e&&"#"===e.charAt(0)&&(4===e.length?(a=e.charAt(1),a+=a,s=e.charAt(2),s+=s,l=e.charAt(3),l+=l):7===e.length&&(a=e.substring(1,3),s=e.substring(3,5),l=e.substring(5,7)),a=parseInt(a,16),s=parseInt(s,16),l=parseInt(l,16)),t(a,s,l))}function ot(e,t,n){var i,r,o=Math.min(e/=255,t/=255,n/=255),a=Math.max(e,t,n),s=a-o,l=(a+o)/2;return s?(r=.5>l?s/(a+o):s/(2-a-o),i=e==a?(t-n)/s+(n>t?6:0):t==a?(n-e)/s+2:(e-t)/s+4,i*=60):(i=0/0,r=l>0&&1>l?0:i),H(i,r,l)}function at(e,t,n){e=st(e),t=st(t),n=st(n);var i=J((.4124564*e+.3575761*t+.1804375*n)/Ra),r=J((.2126729*e+.7151522*t+.072175*n)/za),o=J((.0193339*e+.119192*t+.9503041*n)/Wa);return G(116*r-16,500*(i-r),200*(r-o))}function st(e){return.04045>=(e/=255)?e/12.92:Math.pow((e+.055)/1.055,2.4)}function lt(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function ut(e){return"function"==typeof e?e:function(){return e}}function ct(e){return e}function dt(e){return function(t,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),ht(t,n,e,i)}}function ht(e,t,n,i){function r(){var e,t=l.status;if(!t&&l.responseText||t>=200&&300>t||304===t){try{e=n.call(o,l)}catch(i){return a.error.call(o,i),void 0}a.load.call(o,e)}else a.error.call(o,l)}var o={},a=sa.dispatch("progress","load","error"),s={},l=new(ua.XDomainRequest&&/^(http(s)?:)?\/\//.test(e)?XDomainRequest:XMLHttpRequest);return"onload"in l?l.onload=l.onerror=r:l.onreadystatechange=function(){l.readyState>3&&r()},l.onprogress=function(e){var t=sa.event;sa.event=e;try{a.progress.call(o,l)}finally{sa.event=t}},o.header=function(e,t){return e=(e+"").toLowerCase(),2>arguments.length?s[e]:(null==t?delete s[e]:s[e]=t+"",o)},o.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",o):t},o.response=function(e){return n=e,o},["get","post"].forEach(function(e){o[e]=function(){return o.send.apply(o,[e].concat(va(arguments)))}}),o.send=function(n,i,r){if(2===arguments.length&&"function"==typeof i&&(r=i,i=null),l.open(n,e,!0),null==t||"accept"in s||(s.accept=t+",*/*"),l.setRequestHeader)for(var a in s)l.setRequestHeader(a,s[a]);return null!=t&&l.overrideMimeType&&l.overrideMimeType(t),null!=r&&o.on("error",r).on("load",function(e){r(null,e)}),l.send(null==i?null:i),o},o.abort=function(){return l.abort(),o},sa.rebind(o,a,"on"),null==i?o:o.get(ft(i))}function ft(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}function pt(e,t){function n(e,n,o){3>arguments.length&&(o=n,n=null);var a=sa.xhr(e,t,o);return a.row=function(e){return arguments.length?a.response(null==(n=e)?i:r(e)):n},a.row(n)}function i(e){return n.parse(e.responseText)}function r(e){return function(t){return n.parse(t.responseText,e)}}function a(t){return t.map(s).join(e)}function s(e){return l.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var l=RegExp('["'+e+"\n]"),u=e.charCodeAt(0);return n.parse=function(e,t){var i;return n.parseRows(e,function(e,n){if(i)return i(e,n-1);var r=Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");i=t?function(e,n){return t(r(e),n)}:r})},n.parseRows=function(e,t){function n(){if(c>=l)return a;if(r)return r=!1,o;var t=c;if(34===e.charCodeAt(t)){for(var n=t;l>n++;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}c=n+2;var i=e.charCodeAt(n+1);return 13===i?(r=!0,10===e.charCodeAt(n+2)&&++c):10===i&&(r=!0),e.substring(t+1,n).replace(/""/g,'"')}for(;l>c;){var i=e.charCodeAt(c++),s=1;if(10===i)r=!0;else if(13===i)r=!0,10===e.charCodeAt(c)&&(++c,++s);else if(i!==u)continue;return e.substring(t,c-s)}return e.substring(t)}for(var i,r,o={},a={},s=[],l=e.length,c=0,d=0;(i=n())!==a;){for(var h=[];i!==o&&i!==a;)h.push(i),i=n();(!t||(h=t(h,d++)))&&s.push(h)}return s},n.format=function(t){if(Array.isArray(t[0]))return n.formatRows(t);var i=new o,r=[];return t.forEach(function(e){for(var t in e)i.has(t)||r.push(i.add(t))}),[r.map(s).join(e)].concat(t.map(function(t){return r.map(function(e){return s(t[e])}).join(e)})).join("\n")},n.formatRows=function(e){return e.map(a).join("\n")},n}function mt(){var e=gt(),t=vt()-e;t>24?(isFinite(t)&&(clearTimeout(Ya),Ya=setTimeout(mt,t)),Ka=0):(Ka=1,Qa(mt))}function gt(){for(var e=Date.now(),t=Xa;t;)e>=t.time&&(t.flush=t.callback(e-t.time)),t=t.next;return e}function vt(){for(var e,t=Xa,n=1/0;t;)t.flush?t=e?e.next=t.next:Xa=t.next:(n>t.time&&(n=t.time),t=(e=t).next);return Ga=e,n}function bt(e,t){var n=Math.pow(10,3*Math.abs(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function yt(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function xt(e){return e+""}function wt(e,t){e&&ss.hasOwnProperty(e.type)&&ss[e.type](e,t)}function _t(e,t,n){var i,r=-1,o=e.length-n;for(t.lineStart();o>++r;)i=e[r],t.point(i[0],i[1]);t.lineEnd()}function Ct(e,t){var n=-1,i=e.length;for(t.polygonStart();i>++n;)_t(e[n],t,1);t.polygonEnd()}function Tt(){function e(e,t){e*=Oa,t=t*Oa/2+La/4;var n=e-i,a=Math.cos(t),s=Math.sin(t),l=o*s,u=r*a+l*Math.cos(n),c=l*Math.sin(n);us+=Math.atan2(c,u),i=e,r=a,o=s}var t,n,i,r,o;cs.point=function(a,s){cs.point=e,i=(t=a)*Oa,r=Math.cos(s=(n=s)*Oa/2+La/4),o=Math.sin(s)},cs.lineEnd=function(){e(t,n)}}function kt(e){var t=e[0],n=e[1],i=Math.cos(n);return[i*Math.cos(t),i*Math.sin(t),Math.sin(n)]}function Et(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Dt(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Mt(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function St(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function jt(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Nt(e){return[Math.atan2(e[1],e[0]),Math.asin(Math.max(-1,Math.min(1,e[2])))]}function Pt(e,t){return Ha>Math.abs(e[0]-t[0])&&Ha>Math.abs(e[1]-t[1])}function At(e,t){if(!ds){++hs,e*=Oa;var n=Math.cos(t*=Oa);fs+=(n*Math.cos(e)-fs)/hs,ps+=(n*Math.sin(e)-ps)/hs,ms+=(Math.sin(t)-ms)/hs}}function qt(){var e,t;ds=1,Lt(),ds=2;var n=gs.point;gs.point=function(i,r){n(e=i,t=r)},gs.lineEnd=function(){gs.point(e,t),Ht(),gs.lineEnd=Ht}}function Lt(){function e(e,r){e*=Oa;var o=Math.cos(r*=Oa),a=o*Math.cos(e),s=o*Math.sin(e),l=Math.sin(r),u=Math.atan2(Math.sqrt((u=n*l-i*s)*u+(u=i*a-t*l)*u+(u=t*s-n*a)*u),t*a+n*s+i*l);hs+=u,fs+=u*(t+(t=a)),ps+=u*(n+(n=s)),ms+=u*(i+(i=l))}var t,n,i;ds>1||(1>ds&&(ds=1,hs=fs=ps=ms=0),gs.point=function(r,o){r*=Oa;var a=Math.cos(o*=Oa);t=a*Math.cos(r),n=a*Math.sin(r),i=Math.sin(o),gs.point=e})}function Ht(){gs.point=At}function Ot(){return!0}function Ft(e,t,n,i,r){var o=[],a=[];if(e.forEach(function(e){if(!(0>=(t=e.length-1))){var t,n=e[0],i=e[t];if(Pt(n,i)){r.lineStart();for(var s=0;t>s;++s)r.point((n=e[s])[0],n[1]);return r.lineEnd(),void 0}var l={point:n,points:e,other:null,visited:!1,entry:!0,subject:!0},u={point:n,points:[n],other:l,visited:!1,entry:!1,subject:!1};l.other=u,o.push(l),a.push(u),l={point:i,points:[i],other:null,visited:!1,entry:!1,subject:!0},u={point:i,points:[i],other:l,visited:!1,entry:!0,subject:!1},l.other=u,o.push(l),a.push(u)}}),a.sort(t),It(o),It(a),o.length){if(n)for(var s=1,l=!n(a[0].point),u=a.length;u>s;++s)a[s].entry=l=!l;for(var c,d,h,f=o[0];;){for(c=f;c.visited;)if((c=c.next)===f)return;d=c.points,r.lineStart();do{if(c.visited=c.other.visited=!0,c.entry){if(c.subject)for(var s=0;d.length>s;s++)r.point((h=d[s])[0],h[1]);else i(c.point,c.next.point,1,r);c=c.next}else{if(c.subject){d=c.prev.points;for(var s=d.length;--s>=0;)r.point((h=d[s])[0],h[1])}else i(c.point,c.prev.point,-1,r);c=c.prev}c=c.other,d=c.points}while(!c.visited);r.lineEnd()}}}function It(e){if(t=e.length){for(var t,n,i=0,r=e[0];t>++i;)r.next=n=e[i],n.prev=r,r=n;r.next=n=e[0],n.prev=r}}function Bt(e,t,n){return function(i){function r(t,n){e(t,n)&&i.point(t,n)}function o(e,t){g.point(e,t)}function a(){v.point=o,g.lineStart()}function s(){v.point=r,g.lineEnd()}function l(e,t){y.point(e,t),m.push([e,t])}function u(){y.lineStart(),m=[]}function c(){l(m[0][0],m[0][1]),y.lineEnd();var e,t=y.clean(),n=b.buffer(),r=n.length;if(!r)return p=!0,f+=Wt(m,-1),m=null,void 0;if(m=null,1&t){e=n[0],h+=Wt(e,1);var o,r=e.length-1,a=-1;for(i.lineStart();r>++a;)i.point((o=e[a])[0],o[1]);return i.lineEnd(),void 0}r>1&&2&t&&n.push(n.pop().concat(n.shift())),d.push(n.filter(Rt))}var d,h,f,p,m,g=t(i),v={point:r,lineStart:a,lineEnd:s,polygonStart:function(){v.point=l,v.lineStart=u,v.lineEnd=c,p=!1,f=h=0,d=[],i.polygonStart()},polygonEnd:function(){v.point=r,v.lineStart=a,v.lineEnd=s,d=sa.merge(d),d.length?Ft(d,Ut,null,n,i):(-Ha>h||p&&-Ha>f)&&(i.lineStart(),n(null,null,1,i),i.lineEnd()),i.polygonEnd(),d=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}},b=zt(),y=t(b);return v}}function Rt(e){return e.length>1}function zt(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:S,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Wt(e,t){if(!(n=e.length))return 0;for(var n,i,r,o=0,a=0,s=e[0],l=s[0],u=s[1],c=Math.cos(u),d=Math.atan2(t*Math.sin(l)*c,Math.sin(u)),h=1-t*Math.cos(l)*c,f=d;n>++o;)s=e[o],c=Math.cos(u=s[1]),i=Math.atan2(t*Math.sin(l=s[0])*c,Math.sin(u)),r=1-t*Math.cos(l)*c,Ha>Math.abs(h-2)&&Ha>Math.abs(r-2)||(Ha>Math.abs(r)||Ha>Math.abs(h)||(Ha>Math.abs(Math.abs(i-d)-La)?r+h>2&&(a+=4*(i-d)):a+=Ha>Math.abs(h-2)?4*(i-f):((3*La+i-d)%(2*La)-La)*(h+r)),f=d,d=i,h=r);return a}function Ut(e,t){return(0>(e=e.point)[0]?e[1]-La/2-Ha:La/2-e[1])-(0>(t=t.point)[0]?t[1]-La/2-Ha:La/2-t[1])}function $t(e){var t,n=0/0,i=0/0,r=0/0;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var s=o>0?La:-La,l=Math.abs(o-n);Ha>Math.abs(l-La)?(e.point(n,i=(i+a)/2>0?La/2:-La/2),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(s,i),e.point(o,i),t=0):r!==s&&l>=La&&(Ha>Math.abs(n-r)&&(n-=r*Ha),Ha>Math.abs(o-s)&&(o-=s*Ha),i=Vt(n,i,o,a),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(s,i),t=0),e.point(n=o,i=a),r=s},lineEnd:function(){e.lineEnd(),n=i=0/0},clean:function(){return 2-t}}}function Vt(e,t,n,i){var r,o,a=Math.sin(e-n);return Math.abs(a)>Ha?Math.atan((Math.sin(t)*(o=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(t))*Math.sin(e))/(r*o*a)):(t+i)/2}function Xt(e,t,n,i){var r;if(null==e)r=n*La/2,i.point(-La,r),i.point(0,r),i.point(La,r),i.point(La,0),i.point(La,-r),i.point(0,-r),i.point(-La,-r),i.point(-La,0),i.point(-La,r);else if(Math.abs(e[0]-t[0])>Ha){var o=(e[0]<t[0]?1:-1)*La;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(t[0],t[1])}function Gt(e){function t(e,t){return Math.cos(e)*Math.cos(t)>o}function n(e){var n,o,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(d,h){var f,p=[d,h],m=t(d,h),g=a?m?0:r(d,h):m?r(d+(0>d?La:-La),h):0;if(!n&&(u=l=m)&&e.lineStart(),m!==l&&(f=i(n,p),(Pt(n,f)||Pt(p,f))&&(p[0]+=Ha,p[1]+=Ha,m=t(p[0],p[1]))),m!==l)c=0,m?(e.lineStart(),f=i(p,n),e.point(f[0],f[1])):(f=i(n,p),e.point(f[0],f[1]),e.lineEnd()),n=f;else if(s&&n&&a^m){var v;g&o||!(v=i(p,n,!0))||(c=0,a?(e.lineStart(),e.point(v[0][0],v[0][1]),e.point(v[1][0],v[1][1]),e.lineEnd()):(e.point(v[1][0],v[1][1]),e.lineEnd(),e.lineStart(),e.point(v[0][0],v[0][1])))}!m||n&&Pt(n,p)||e.point(p[0],p[1]),n=p,l=m,o=g},lineEnd:function(){l&&e.lineEnd(),n=null},clean:function(){return c|(u&&l)<<1}}}function i(e,t,n){var i=kt(e),r=kt(t),a=[1,0,0],s=Dt(i,r),l=Et(s,s),u=s[0],c=l-u*u;if(!c)return!n&&e;var d=o*l/c,h=-o*u/c,f=Dt(a,s),p=St(a,d),m=St(s,h);Mt(p,m);var g=f,v=Et(p,g),b=Et(g,g),y=v*v-b*(Et(p,p)-1);if(!(0>y)){var x=Math.sqrt(y),w=St(g,(-v-x)/b);if(Mt(w,p),w=Nt(w),!n)return w;var _,C=e[0],T=t[0],k=e[1],E=t[1];C>T&&(_=C,C=T,T=_);var D=T-C,M=Ha>Math.abs(D-La),S=M||Ha>D;if(!M&&k>E&&(_=k,k=E,E=_),S?M?k+E>0^w[1]<(Ha>Math.abs(w[0]-C)?k:E):w[1]>=k&&E>=w[1]:D>La^(w[0]>=C&&T>=w[0])){var j=St(g,(-v+x)/b);return Mt(j,p),[w,Nt(j)]}}}function r(t,n){var i=a?e:La-e,r=0;return-i>t?r|=1:t>i&&(r|=2),-i>n?r|=4:n>i&&(r|=8),r}var o=Math.cos(e),a=o>0,s=Math.abs(o)>Ha,l=ln(e,6*Oa);return Bt(t,n,l)}function Kt(e,t,n,i){function r(i,r){return Ha>Math.abs(i[0]-e)?r>0?0:3:Ha>Math.abs(i[0]-n)?r>0?2:1:Ha>Math.abs(i[1]-t)?r>0?1:0:r>0?3:2}function o(e,t){return a(e.point,t.point)}function a(e,t){var n=r(e,1),i=r(t,1);return n!==i?n-i:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}function s(r,o){var a=o[0]-r[0],s=o[1]-r[1],l=[0,1];return Ha>Math.abs(a)&&Ha>Math.abs(s)?r[0]>=e&&n>=r[0]&&r[1]>=t&&i>=r[1]:Yt(e-r[0],a,l)&&Yt(r[0]-n,-a,l)&&Yt(t-r[1],s,l)&&Yt(r[1]-i,-s,l)?(1>l[1]&&(o[0]=r[0]+l[1]*a,o[1]=r[1]+l[1]*s),l[0]>0&&(r[0]+=l[0]*a,r[1]+=l[0]*s),!0):!1}return function(l){function u(o){var a=r(o,-1),s=c([0===a||3===a?e:n,a>1?i:t]);return s}function c(e){for(var t=0,n=y.length,i=e[1],r=0;n>r;++r)for(var o,a=1,s=y[r],l=s.length,u=s[0];l>a;++a)o=s[a],i>=u[1]?o[1]>i&&d(u,o,e)>0&&++t:i>=o[1]&&0>d(u,o,e)&&--t,u=o;return 0!==t}function d(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1])}function h(o,s,l,u){var c=0,d=0;if(null==o||(c=r(o,l))!==(d=r(s,l))||0>a(o,s)^l>0){do u.point(0===c||3===c?e:n,c>1?i:t);while((c=(c+l+4)%4)!==d)}else u.point(s[0],s[1])}function f(r,o){return r>=e&&n>=r&&o>=t&&i>=o}function p(e,t){f(e,t)&&l.point(e,t)}function m(){j.point=v,y&&y.push(x=[]),D=!0,E=!1,T=k=0/0}function g(){b&&(v(w,_),C&&E&&S.rejoin(),b.push(S.buffer())),j.point=p,E&&l.lineEnd()}function v(e,t){e=Math.max(-bs,Math.min(bs,e)),t=Math.max(-bs,Math.min(bs,t));var n=f(e,t);if(y&&x.push([e,t]),D)w=e,_=t,C=n,D=!1,n&&(l.lineStart(),l.point(e,t));else if(n&&E)l.point(e,t);else{var i=[T,k],r=[e,t];s(i,r)?(E||(l.lineStart(),l.point(i[0],i[1])),l.point(r[0],r[1]),n||l.lineEnd()):n&&(l.lineStart(),l.point(e,t))}T=e,k=t,E=n}var b,y,x,w,_,C,T,k,E,D,M=l,S=zt(),j={point:p,lineStart:m,lineEnd:g,polygonStart:function(){l=S,b=[],y=[]},polygonEnd:function(){l=M,(b=sa.merge(b)).length?(l.polygonStart(),Ft(b,o,u,h,l),l.polygonEnd()):c([e,t])&&(l.polygonStart(),l.lineStart(),h(null,null,1,l),l.lineEnd(),l.polygonEnd()),b=y=x=null}};return j}}function Yt(e,t,n){if(Ha>Math.abs(t))return 0>=e;var i=e/t;if(t>0){if(i>n[1])return!1;i>n[0]&&(n[0]=i)}else{if(n[0]>i)return!1;n[1]>i&&(n[1]=i)}return!0}function Qt(e,t){function n(n,i){return n=e(n,i),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,i){return n=t.invert(n,i),n&&e.invert(n[0],n[1])}),n}function Zt(e){function t(t){function i(n,i){n=e(n,i),t.point(n[0],n[1])}function o(){c=0/0,m.point=a,t.lineStart()}function a(i,o){var a=kt([i,o]),s=e(i,o);n(c,d,u,h,f,p,c=s[0],d=s[1],u=i,h=a[0],f=a[1],p=a[2],r,t),t.point(c,d)}function s(){m.point=i,t.lineEnd()}function l(){var e,i,l,g,v,b,y;o(),m.point=function(t,n){a(e=t,i=n),l=c,g=d,v=h,b=f,y=p,m.point=a},m.lineEnd=function(){n(c,d,u,h,f,p,l,g,e,v,b,y,r,t),m.lineEnd=s,s()}}var u,c,d,h,f,p,m={point:i,lineStart:o,lineEnd:s,polygonStart:function(){t.polygonStart(),m.lineStart=l},polygonEnd:function(){t.polygonEnd(),m.lineStart=o}};return m}function n(t,r,o,a,s,l,u,c,d,h,f,p,m,g){var v=u-t,b=c-r,y=v*v+b*b;if(y>4*i&&m--){var x=a+h,w=s+f,_=l+p,C=Math.sqrt(x*x+w*w+_*_),T=Math.asin(_/=C),k=Ha>Math.abs(Math.abs(_)-1)?(o+d)/2:Math.atan2(w,x),E=e(k,T),D=E[0],M=E[1],S=D-t,j=M-r,N=b*S-v*j;(N*N/y>i||Math.abs((v*S+b*j)/y-.5)>.3)&&(n(t,r,o,a,s,l,D,M,k,x/=C,w/=C,_,m,g),g.point(D,M),n(D,M,k,x,w,_,u,c,d,h,f,p,m,g))}}var i=.5,r=16;return t.precision=function(e){return arguments.length?(r=(i=e*e)>0&&16,t):Math.sqrt(i)},t}function Jt(e){return en(function(){return e})()}function en(e){function t(e){return e=a(e[0]*Oa,e[1]*Oa),[e[0]*c+s,l-e[1]*c]}function n(e){return e=a.invert((e[0]-s)/c,(l-e[1])/c),e&&[e[0]*Fa,e[1]*Fa]}function i(){a=Qt(o=rn(m,g,v),r);var e=r(f,p);return s=d-e[0]*c,l=h+e[1]*c,t}var r,o,a,s,l,u=Zt(function(e,t){return e=r(e,t),[e[0]*c+s,l-e[1]*c]}),c=150,d=480,h=250,f=0,p=0,m=0,g=0,v=0,b=vs,y=ct,x=null,w=null;return t.stream=function(e){return tn(o,b(u(y(e))))},t.clipAngle=function(e){return arguments.length?(b=null==e?(x=e,vs):Gt((x=+e)*Oa),t):x},t.clipExtent=function(e){return arguments.length?(w=e,y=null==e?ct:Kt(e[0][0],e[0][1],e[1][0],e[1][1]),t):w},t.scale=function(e){return arguments.length?(c=+e,i()):c},t.translate=function(e){return arguments.length?(d=+e[0],h=+e[1],i()):[d,h]},t.center=function(e){return arguments.length?(f=e[0]%360*Oa,p=e[1]%360*Oa,i()):[f*Fa,p*Fa]},t.rotate=function(e){return arguments.length?(m=e[0]%360*Oa,g=e[1]%360*Oa,v=e.length>2?e[2]%360*Oa:0,i()):[m*Fa,g*Fa,v*Fa]},sa.rebind(t,u,"precision"),function(){return r=e.apply(this,arguments),t.invert=r.invert&&n,i()}}function tn(e,t){return{point:function(n,i){i=e(n*Oa,i*Oa),n=i[0],t.point(n>La?n-2*La:-La>n?n+2*La:n,i[1])},sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function nn(e,t){return[e,t]}function rn(e,t,n){return e?t||n?Qt(an(e),sn(t,n)):an(e):t||n?sn(t,n):nn}function on(e){return function(t,n){return t+=e,[t>La?t-2*La:-La>t?t+2*La:t,n]}}function an(e){var t=on(e);return t.invert=on(-e),t}function sn(e,t){function n(e,t){var n=Math.cos(t),s=Math.cos(e)*n,l=Math.sin(e)*n,u=Math.sin(t),c=u*i+s*r;return[Math.atan2(l*o-c*a,s*i-u*r),Math.asin(Math.max(-1,Math.min(1,c*o+l*a)))]}var i=Math.cos(e),r=Math.sin(e),o=Math.cos(t),a=Math.sin(t);return n.invert=function(e,t){var n=Math.cos(t),s=Math.cos(e)*n,l=Math.sin(e)*n,u=Math.sin(t),c=u*o-l*a;return[Math.atan2(l*o+u*a,s*i+c*r),Math.asin(Math.max(-1,Math.min(1,c*i-s*r)))]},n}function ln(e,t){var n=Math.cos(e),i=Math.sin(e);return function(r,o,a,s){null!=r?(r=un(n,r),o=un(n,o),(a>0?o>r:r>o)&&(r+=2*a*La)):(r=e+2*a*La,o=e);for(var l,u=a*t,c=r;a>0?c>o:o>c;c-=u)s.point((l=Nt([n,-i*Math.cos(c),-i*Math.sin(c)]))[0],l[1])}}function un(e,t){var n=kt(t);n[0]-=e,jt(n);var i=B(-n[1]);return((0>-n[2]?-i:i)+2*Math.PI-Ha)%(2*Math.PI)}function cn(e,t,n){var i=sa.range(e,t-Ha,n).concat(t);return function(e){return i.map(function(t){return[e,t]})}}function dn(e,t,n){var i=sa.range(e,t-Ha,n).concat(t);return function(e){return i.map(function(t){return[t,e]})}}function hn(e){return e.source}function fn(e){return e.target}function pn(e,t,n,i){var r=Math.cos(t),o=Math.sin(t),a=Math.cos(i),s=Math.sin(i),l=r*Math.cos(e),u=r*Math.sin(e),c=a*Math.cos(n),d=a*Math.sin(n),h=2*Math.asin(Math.sqrt(U(i-t)+r*a*U(n-e))),f=1/Math.sin(h),p=h?function(e){var t=Math.sin(e*=h)*f,n=Math.sin(h-e)*f,i=n*l+t*c,r=n*u+t*d,a=n*o+t*s;return[Math.atan2(r,i)*Fa,Math.atan2(a,Math.sqrt(i*i+r*r))*Fa]}:function(){return[e*Fa,t*Fa]};return p.distance=h,p}function mn(){function e(e,r){var o=Math.sin(r*=Oa),a=Math.cos(r),s=Math.abs((e*=Oa)-t),l=Math.cos(s);ys+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=i*o-n*a*l)*s),n*o+i*a*l),t=e,n=o,i=a}var t,n,i;xs.point=function(r,o){t=r*Oa,n=Math.sin(o*=Oa),i=Math.cos(o),xs.point=e},xs.lineEnd=function(){xs.point=xs.lineEnd=S}}function gn(e){var t=0,n=La/3,i=en(e),r=i(t,n);return r.parallels=function(e){return arguments.length?i(t=e[0]*La/180,n=e[1]*La/180):[180*(t/La),180*(n/La)]},r}function vn(e,t){function n(e,t){var n=Math.sqrt(o-2*r*Math.sin(t))/r;return[n*Math.sin(e*=r),a-n*Math.cos(e)]}var i=Math.sin(e),r=(i+Math.sin(t))/2,o=1+i*(2*r-i),a=Math.sqrt(o)/r;return n.invert=function(e,t){var n=a-t;return[Math.atan2(e,n)/r,R((o-(e*e+n*n)*r*r)/(2*r))]},n}function bn(){function e(e,t){_s+=r*e-i*t,i=e,r=t}var t,n,i,r;Ds.point=function(o,a){Ds.point=e,t=i=o,n=r=a},Ds.lineEnd=function(){e(t,n)}}function yn(e,t){Cs>e&&(Cs=e),e>ks&&(ks=e),Ts>t&&(Ts=t),t>Es&&(Es=t)}function xn(){function e(e,t){a.push("M",e,",",t,o)}function t(e,t){a.push("M",e,",",t),s.point=n}function n(e,t){a.push("L",e,",",t)}function i(){s.point=e}function r(){a.push("Z")}var o=wn(4.5),a=[],s={point:e,lineStart:function(){s.point=t},lineEnd:i,polygonStart:function(){s.lineEnd=r},polygonEnd:function(){s.lineEnd=i,s.point=e},pointRadius:function(e){return o=wn(e),s},result:function(){if(a.length){var e=a.join("");return a=[],e}}};return s}function wn(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function _n(e,t){ds||(fs+=e,ps+=t,++ms)}function Cn(){function e(e,i){var r=e-t,o=i-n,a=Math.sqrt(r*r+o*o);fs+=a*(t+e)/2,ps+=a*(n+i)/2,ms+=a,t=e,n=i}var t,n;if(1!==ds){if(!(1>ds))return;ds=1,fs=ps=ms=0}Ss.point=function(i,r){Ss.point=e,t=i,n=r}}function Tn(){Ss.point=_n}function kn(){function e(e,t){var n=r*e-i*t;fs+=n*(i+e),ps+=n*(r+t),ms+=3*n,i=e,r=t}var t,n,i,r;2>ds&&(ds=2,fs=ps=ms=0),Ss.point=function(o,a){Ss.point=e,t=i=o,n=r=a},Ss.lineEnd=function(){e(t,n)}}function En(e){function t(t,n){e.moveTo(t,n),e.arc(t,n,a,0,2*La)}function n(t,n){e.moveTo(t,n),s.point=i}function i(t,n){e.lineTo(t,n)}function r(){s.point=t}function o(){e.closePath()}var a=4.5,s={point:t,lineStart:function(){s.point=n},lineEnd:r,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=r,s.point=t},pointRadius:function(e){return a=e,s},result:S};return s}function Dn(e){var t=Zt(function(t,n){return e([t*Fa,n*Fa])});return function(e){return e=t(e),{point:function(t,n){e.point(t*Oa,n*Oa)},sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}}function Mn(e,t){function n(t,n){var i=Math.cos(t),r=Math.cos(n),o=e(i*r);return[o*r*Math.sin(t),o*Math.sin(n)]}return n.invert=function(e,n){var i=Math.sqrt(e*e+n*n),r=t(i),o=Math.sin(r),a=Math.cos(r);return[Math.atan2(e*o,i*a),Math.asin(i&&n*o/i)]},n}function Sn(e,t){function n(e,t){var n=Ha>Math.abs(Math.abs(t)-La/2)?0:a/Math.pow(r(t),o);return[n*Math.sin(o*e),a-n*Math.cos(o*e)]}var i=Math.cos(e),r=function(e){return Math.tan(La/4+e/2)},o=e===t?Math.sin(e):Math.log(i/Math.cos(t))/Math.log(r(t)/r(e)),a=i*Math.pow(r(e),o)/o;return o?(n.invert=function(e,t){var n=a-t,i=I(o)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/o,2*Math.atan(Math.pow(a/i,1/o))-La/2]},n):Nn}function jn(e,t){function n(e,t){var n=o-t;return[n*Math.sin(r*e),o-n*Math.cos(r*e)]}var i=Math.cos(e),r=e===t?Math.sin(e):(i-Math.cos(t))/(t-e),o=i/r+e;return Ha>Math.abs(r)?nn:(n.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/r,o-I(r)*Math.sqrt(e*e+n*n)]},n)}function Nn(e,t){return[e,Math.log(Math.tan(La/4+t/2))]}function Pn(e){var t,n=Jt(e),i=n.scale,r=n.translate,o=n.clipExtent;return n.scale=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var a=o.apply(n,arguments);if(a===n){if(t=null==e){var s=La*i(),l=r();o([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else t&&(a=null);return a},n.clipExtent(null)}function An(e,t){var n=Math.cos(t)*Math.sin(e);return[Math.log((1+n)/(1-n))/2,Math.atan2(Math.tan(t),Math.cos(e))]}function qn(e){function t(t){function a(){u.push("M",o(e(c),s))}for(var l,u=[],c=[],d=-1,h=t.length,f=ut(n),p=ut(i);h>++d;)r.call(this,l=t[d],d)?c.push([+f.call(this,l,d),+p.call(this,l,d)]):c.length&&(a(),c=[]);return c.length&&a(),u.length?u.join(""):null}var n=Ln,i=Hn,r=Ot,o=On,a=o.key,s=.7;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(i=e,t):i},t.defined=function(e){return arguments.length?(r=e,t):r},t.interpolate=function(e){return arguments.length?(a="function"==typeof e?o=e:(o=Ls.get(e)||On).key,t):a},t.tension=function(e){return arguments.length?(s=e,t):s},t}function Ln(e){return e[0]}function Hn(e){return e[1]}function On(e){return e.join("L")}function Fn(e){return On(e)+"Z"}function In(e){for(var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];n>++t;)r.push("V",(i=e[t])[1],"H",i[0]);return r.join("")}function Bn(e){for(var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];n>++t;)r.push("H",(i=e[t])[0],"V",i[1]);return r.join("")}function Rn(e,t){return 4>e.length?On(e):e[1]+Un(e.slice(1,e.length-1),$n(e,t))}function zn(e,t){return 3>e.length?On(e):e[0]+Un((e.push(e[0]),e),$n([e[e.length-2]].concat(e,[e[1]]),t))}function Wn(e,t){return 3>e.length?On(e):e[0]+Un(e,$n(e,t))}function Un(e,t){if(1>t.length||e.length!=t.length&&e.length!=t.length+2)return On(e);var n=e.length!=t.length,i="",r=e[0],o=e[1],a=t[0],s=a,l=1;if(n&&(i+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],r=e[1],l=2),t.length>1){s=t[1],o=e[l],l++,i+="C"+(r[0]+a[0])+","+(r[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var u=2;t.length>u;u++,l++)o=e[l],s=t[u],i+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=e[l];i+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return i}function $n(e,t){for(var n,i=[],r=(1-t)/2,o=e[0],a=e[1],s=1,l=e.length;l>++s;)n=o,o=a,a=e[s],i.push([r*(a[0]-n[0]),r*(a[1]-n[1])]);return i}function Vn(e){if(3>e.length)return On(e);var t=1,n=e.length,i=e[0],r=i[0],o=i[1],a=[r,r,r,(i=e[1])[0]],s=[o,o,o,i[1]],l=[r,",",o];for(Qn(l,a,s);n>++t;)i=e[t],a.shift(),a.push(i[0]),s.shift(),s.push(i[1]),Qn(l,a,s);for(t=-1;2>++t;)a.shift(),a.push(i[0]),s.shift(),s.push(i[1]),Qn(l,a,s);return l.join("")}function Xn(e){if(4>e.length)return On(e);for(var t,n=[],i=-1,r=e.length,o=[0],a=[0];3>++i;)t=e[i],o.push(t[0]),a.push(t[1]);for(n.push(Yn(Fs,o)+","+Yn(Fs,a)),--i;r>++i;)t=e[i],o.shift(),o.push(t[0]),a.shift(),a.push(t[1]),Qn(n,o,a);return n.join("")}function Gn(e){for(var t,n,i=-1,r=e.length,o=r+4,a=[],s=[];4>++i;)n=e[i%r],a.push(n[0]),s.push(n[1]);for(t=[Yn(Fs,a),",",Yn(Fs,s)],--i;o>++i;)n=e[i%r],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Qn(t,a,s);return t.join("")}function Kn(e,t){var n=e.length-1;if(n)for(var i,r,o=e[0][0],a=e[0][1],s=e[n][0]-o,l=e[n][1]-a,u=-1;n>=++u;)i=e[u],r=u/n,i[0]=t*i[0]+(1-t)*(o+r*s),i[1]=t*i[1]+(1-t)*(a+r*l);return Vn(e)}function Yn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Qn(e,t,n){e.push("C",Yn(Hs,t),",",Yn(Hs,n),",",Yn(Os,t),",",Yn(Os,n),",",Yn(Fs,t),",",Yn(Fs,n))}function Zn(e,t){return(t[1]-e[1])/(t[0]-e[0])
}function Jn(e){for(var t=0,n=e.length-1,i=[],r=e[0],o=e[1],a=i[0]=Zn(r,o);n>++t;)i[t]=(a+(a=Zn(r=o,o=e[t+1])))/2;return i[t]=a,i}function ei(e){for(var t,n,i,r,o=[],a=Jn(e),s=-1,l=e.length-1;l>++s;)t=Zn(e[s],e[s+1]),1e-6>Math.abs(t)?a[s]=a[s+1]=0:(n=a[s]/t,i=a[s+1]/t,r=n*n+i*i,r>9&&(r=3*t/Math.sqrt(r),a[s]=r*n,a[s+1]=r*i));for(s=-1;l>=++s;)r=(e[Math.min(l,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([r||0,a[s]*r||0]);return o}function ti(e){return 3>e.length?On(e):e[0]+Un(e,ei(e))}function ni(e,t,n,i){var r,o,a,s,l,u,c;return r=i[e],o=r[0],a=r[1],r=i[t],s=r[0],l=r[1],r=i[n],u=r[0],c=r[1],(c-a)*(s-o)-(l-a)*(u-o)>0}function ii(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function ri(e,t,n,i){var r=e[0],o=n[0],a=t[0]-r,s=i[0]-o,l=e[1],u=n[1],c=t[1]-l,d=i[1]-u,h=(s*(l-u)-d*(r-o))/(d*a-s*c);return[r+h*a,l+h*c]}function oi(e,t){var n={list:e.map(function(e,t){return{index:t,x:e[0],y:e[1]}}).sort(function(e,t){return e.y<t.y?-1:e.y>t.y?1:e.x<t.x?-1:e.x>t.x?1:0}),bottomSite:null},i={list:[],leftEnd:null,rightEnd:null,init:function(){i.leftEnd=i.createHalfEdge(null,"l"),i.rightEnd=i.createHalfEdge(null,"l"),i.leftEnd.r=i.rightEnd,i.rightEnd.l=i.leftEnd,i.list.unshift(i.leftEnd,i.rightEnd)},createHalfEdge:function(e,t){return{edge:e,side:t,vertex:null,l:null,r:null}},insert:function(e,t){t.l=e,t.r=e.r,e.r.l=t,e.r=t},leftBound:function(e){var t=i.leftEnd;do t=t.r;while(t!=i.rightEnd&&r.rightOf(t,e));return t=t.l},del:function(e){e.l.r=e.r,e.r.l=e.l,e.edge=null},right:function(e){return e.r},left:function(e){return e.l},leftRegion:function(e){return null==e.edge?n.bottomSite:e.edge.region[e.side]},rightRegion:function(e){return null==e.edge?n.bottomSite:e.edge.region[Is[e.side]]}},r={bisect:function(e,t){var n={region:{l:e,r:t},ep:{l:null,r:null}},i=t.x-e.x,r=t.y-e.y,o=i>0?i:-i,a=r>0?r:-r;return n.c=e.x*i+e.y*r+.5*(i*i+r*r),o>a?(n.a=1,n.b=r/i,n.c/=i):(n.b=1,n.a=i/r,n.c/=r),n},intersect:function(e,t){var n=e.edge,i=t.edge;if(!n||!i||n.region.r==i.region.r)return null;var r=n.a*i.b-n.b*i.a;if(1e-10>Math.abs(r))return null;var o,a,s=(n.c*i.b-i.c*n.b)/r,l=(i.c*n.a-n.c*i.a)/r,u=n.region.r,c=i.region.r;u.y<c.y||u.y==c.y&&u.x<c.x?(o=e,a=n):(o=t,a=i);var d=s>=a.region.r.x;return d&&"l"===o.side||!d&&"r"===o.side?null:{x:s,y:l}},rightOf:function(e,t){var n=e.edge,i=n.region.r,r=t.x>i.x;if(r&&"l"===e.side)return 1;if(!r&&"r"===e.side)return 0;if(1===n.a){var o=t.y-i.y,a=t.x-i.x,s=0,l=0;if(!r&&0>n.b||r&&n.b>=0?l=s=o>=n.b*a:(l=t.x+t.y*n.b>n.c,0>n.b&&(l=!l),l||(s=1)),!s){var u=i.x-n.region.l.x;l=n.b*(a*a-o*o)<u*o*(1+2*a/u+n.b*n.b),0>n.b&&(l=!l)}}else{var c=n.c-n.a*t.x,d=t.y-c,h=t.x-i.x,f=c-i.y;l=d*d>h*h+f*f}return"l"===e.side?l:!l},endPoint:function(e,n,i){e.ep[n]=i,e.ep[Is[n]]&&t(e)},distance:function(e,t){var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)}},o={list:[],insert:function(e,t,n){e.vertex=t,e.ystar=t.y+n;for(var i=0,r=o.list,a=r.length;a>i;i++){var s=r[i];if(!(e.ystar>s.ystar||e.ystar==s.ystar&&t.x>s.vertex.x))break}r.splice(i,0,e)},del:function(e){for(var t=0,n=o.list,i=n.length;i>t&&n[t]!=e;++t);n.splice(t,1)},empty:function(){return 0===o.list.length},nextEvent:function(e){for(var t=0,n=o.list,i=n.length;i>t;++t)if(n[t]==e)return n[t+1];return null},min:function(){var e=o.list[0];return{x:e.vertex.x,y:e.ystar}},extractMin:function(){return o.list.shift()}};i.init(),n.bottomSite=n.list.shift();for(var a,s,l,u,c,d,h,f,p,m,g,v,b,y=n.list.shift();;)if(o.empty()||(a=o.min()),y&&(o.empty()||y.y<a.y||y.y==a.y&&y.x<a.x))s=i.leftBound(y),l=i.right(s),h=i.rightRegion(s),v=r.bisect(h,y),d=i.createHalfEdge(v,"l"),i.insert(s,d),m=r.intersect(s,d),m&&(o.del(s),o.insert(s,m,r.distance(m,y))),s=d,d=i.createHalfEdge(v,"r"),i.insert(s,d),m=r.intersect(d,l),m&&o.insert(d,m,r.distance(m,y)),y=n.list.shift();else{if(o.empty())break;s=o.extractMin(),u=i.left(s),l=i.right(s),c=i.right(l),h=i.leftRegion(s),f=i.rightRegion(l),g=s.vertex,r.endPoint(s.edge,s.side,g),r.endPoint(l.edge,l.side,g),i.del(s),o.del(l),i.del(l),b="l",h.y>f.y&&(p=h,h=f,f=p,b="r"),v=r.bisect(h,f),d=i.createHalfEdge(v,b),i.insert(u,d),r.endPoint(v,Is[b],g),m=r.intersect(u,d),m&&(o.del(u),o.insert(u,m,r.distance(m,h))),m=r.intersect(d,c),m&&o.insert(d,m,r.distance(m,h))}for(s=i.right(i.leftEnd);s!=i.rightEnd;s=i.right(s))t(s.edge)}function ai(e){return e.x}function si(e){return e.y}function li(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function ui(e,t,n,i,r,o){if(!e(t,n,i,r,o)){var a=.5*(n+r),s=.5*(i+o),l=t.nodes;l[0]&&ui(e,l[0],n,i,a,s),l[1]&&ui(e,l[1],a,i,r,s),l[2]&&ui(e,l[2],n,s,a,o),l[3]&&ui(e,l[3],a,s,r,o)}}function ci(e,t){e=sa.rgb(e),t=sa.rgb(t);var n=e.r,i=e.g,r=e.b,o=t.r-n,a=t.g-i,s=t.b-r;return function(e){return"#"+it(Math.round(n+o*e))+it(Math.round(i+a*e))+it(Math.round(r+s*e))}}function di(e){var t=[e.a,e.b],n=[e.c,e.d],i=fi(t),r=hi(t,n),o=fi(pi(n,t,-r))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*Fa,this.translate=[e.e,e.f],this.scale=[i,o],this.skew=o?Math.atan2(r,o)*Fa:0}function hi(e,t){return e[0]*t[0]+e[1]*t[1]}function fi(e){var t=Math.sqrt(hi(e,e));return t&&(e[0]/=t,e[1]/=t),t}function pi(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function mi(e,t){return t-=e=+e,function(n){return e+t*n}}function gi(e,t){var n,i=[],r=[],o=sa.transform(e),a=sa.transform(t),s=o.translate,l=a.translate,u=o.rotate,c=a.rotate,d=o.skew,h=a.skew,f=o.scale,p=a.scale;return s[0]!=l[0]||s[1]!=l[1]?(i.push("translate(",null,",",null,")"),r.push({i:1,x:mi(s[0],l[0])},{i:3,x:mi(s[1],l[1])})):l[0]||l[1]?i.push("translate("+l+")"):i.push(""),u!=c?(u-c>180?c+=360:c-u>180&&(u+=360),r.push({i:i.push(i.pop()+"rotate(",null,")")-2,x:mi(u,c)})):c&&i.push(i.pop()+"rotate("+c+")"),d!=h?r.push({i:i.push(i.pop()+"skewX(",null,")")-2,x:mi(d,h)}):h&&i.push(i.pop()+"skewX("+h+")"),f[0]!=p[0]||f[1]!=p[1]?(n=i.push(i.pop()+"scale(",null,",",null,")"),r.push({i:n-4,x:mi(f[0],p[0])},{i:n-2,x:mi(f[1],p[1])})):(1!=p[0]||1!=p[1])&&i.push(i.pop()+"scale("+p+")"),n=r.length,function(e){for(var t,o=-1;n>++o;)i[(t=r[o]).i]=t.x(e);return i.join("")}}function vi(e,t){var n,i={},r={};for(n in e)n in t?i[n]=xi(n)(e[n],t[n]):r[n]=e[n];for(n in t)n in e||(r[n]=t[n]);return function(e){for(n in i)r[n]=i[n](e);return r}}function bi(e,t){var n,i,r,o,a,s=0,l=0,u=[],c=[];for(e+="",t+="",Rs.lastIndex=0,i=0;n=Rs.exec(t);++i)n.index&&u.push(t.substring(s,l=n.index)),c.push({i:u.length,x:n[0]}),u.push(null),s=Rs.lastIndex;for(t.length>s&&u.push(t.substring(s)),i=0,o=c.length;(n=Rs.exec(e))&&o>i;++i)if(a=c[i],a.x==n[0]){if(a.i)if(null==u[a.i+1])for(u[a.i-1]+=a.x,u.splice(a.i,1),r=i+1;o>r;++r)c[r].i--;else for(u[a.i-1]+=a.x+u[a.i+1],u.splice(a.i,2),r=i+1;o>r;++r)c[r].i-=2;else if(null==u[a.i+1])u[a.i]=a.x;else for(u[a.i]=a.x+u[a.i+1],u.splice(a.i+1,1),r=i+1;o>r;++r)c[r].i--;c.splice(i,1),o--,i--}else a.x=mi(parseFloat(n[0]),parseFloat(a.x));for(;o>i;)a=c.pop(),null==u[a.i+1]?u[a.i]=a.x:(u[a.i]=a.x+u[a.i+1],u.splice(a.i+1,1)),o--;return 1===u.length?null==u[0]?(a=c[0].x,function(e){return a(e)+""}):function(){return t}:function(e){for(i=0;o>i;++i)u[(a=c[i]).i]=a.x(e);return u.join("")}}function yi(e,t){for(var n,i=sa.interpolators.length;--i>=0&&!(n=sa.interpolators[i](e,t)););return n}function xi(e){return"transform"==e?gi:yi}function wi(e,t){var n,i=[],r=[],o=e.length,a=t.length,s=Math.min(e.length,t.length);for(n=0;s>n;++n)i.push(yi(e[n],t[n]));for(;o>n;++n)r[n]=e[n];for(;a>n;++n)r[n]=t[n];return function(e){for(n=0;s>n;++n)r[n]=i[n](e);return r}}function _i(e){return function(t){return 0>=t?0:t>=1?1:e(t)}}function Ci(e){return function(t){return 1-e(1-t)}}function Ti(e){return function(t){return.5*(.5>t?e(2*t):2-e(2-2*t))}}function ki(e){return e*e}function Ei(e){return e*e*e}function Di(e){if(0>=e)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(.5>e?n:3*(e-t)+n-.75)}function Mi(e){return function(t){return Math.pow(t,e)}}function Si(e){return 1-Math.cos(e*La/2)}function ji(e){return Math.pow(2,10*(e-1))}function Ni(e){return 1-Math.sqrt(1-e*e)}function Pi(e,t){var n;return 2>arguments.length&&(t=.45),arguments.length?n=t/(2*La)*Math.asin(1/e):(e=1,n=t/4),function(i){return 1+e*Math.pow(2,10*-i)*Math.sin(2*(i-n)*La/t)}}function Ai(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function qi(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Li(e,t){e=sa.hcl(e),t=sa.hcl(t);var n=e.h,i=e.c,r=e.l,o=t.h-n,a=t.c-i,s=t.l-r;return isNaN(a)&&(a=0,i=isNaN(i)?t.c:i),isNaN(o)?(o=0,n=isNaN(n)?t.h:n):o>180?o-=360:-180>o&&(o+=360),function(e){return X(n+o*e,i+a*e,r+s*e)+""}}function Hi(e,t){e=sa.hsl(e),t=sa.hsl(t);var n=e.h,i=e.s,r=e.l,o=t.h-n,a=t.s-i,s=t.l-r;return isNaN(a)&&(a=0,i=isNaN(i)?t.s:i),isNaN(o)?(o=0,n=isNaN(n)?t.h:n):o>180?o-=360:-180>o&&(o+=360),function(e){return F(n+o*e,i+a*e,r+s*e)+""}}function Oi(e,t){e=sa.lab(e),t=sa.lab(t);var n=e.l,i=e.a,r=e.b,o=t.l-n,a=t.a-i,s=t.b-r;return function(e){return Y(n+o*e,i+a*e,r+s*e)+""}}function Fi(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function Ii(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return(n-e)*t}}function Bi(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return Math.max(0,Math.min(1,(n-e)*t))}}function Ri(e){for(var t=e.source,n=e.target,i=Wi(t,n),r=[t];t!==i;)t=t.parent,r.push(t);for(var o=r.length;n!==i;)r.splice(o,0,n),n=n.parent;return r}function zi(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function Wi(e,t){if(e===t)return e;for(var n=zi(e),i=zi(t),r=n.pop(),o=i.pop(),a=null;r===o;)a=r,r=n.pop(),o=i.pop();return a}function Ui(e){e.fixed|=2}function $i(e){e.fixed&=-7}function Vi(e){e.fixed|=4,e.px=e.x,e.py=e.y}function Xi(e){e.fixed&=-5}function Gi(e,t,n){var i=0,r=0;if(e.charge=0,!e.leaf)for(var o,a=e.nodes,s=a.length,l=-1;s>++l;)o=a[l],null!=o&&(Gi(o,t,n),e.charge+=o.charge,i+=o.charge*o.cx,r+=o.charge*o.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var u=t*n[e.point.index];e.charge+=e.pointCharge=u,i+=u*e.point.x,r+=u*e.point.y}e.cx=i/e.charge,e.cy=r/e.charge}function Ki(e,t){return sa.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=Ji,e}function Yi(e){return e.children}function Qi(e){return e.value}function Zi(e,t){return t.value-e.value}function Ji(e){return sa.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function er(e){return e.x}function tr(e){return e.y}function nr(e,t,n){e.y0=t,e.y=n}function ir(e){return sa.range(e.length)}function rr(e){for(var t=-1,n=e[0].length,i=[];n>++t;)i[t]=0;return i}function or(e){for(var t,n=1,i=0,r=e[0][1],o=e.length;o>n;++n)(t=e[n][1])>r&&(i=n,r=t);return i}function ar(e){return e.reduce(sr,0)}function sr(e,t){return e+t[1]}function lr(e,t){return ur(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function ur(e,t){for(var n=-1,i=+e[0],r=(e[1]-i)/t,o=[];t>=++n;)o[n]=r*n+i;return o}function cr(e){return[sa.min(e),sa.max(e)]}function dr(e,t){return e.parent==t.parent?1:2}function hr(e){var t=e.children;return t&&t.length?t[0]:e._tree.thread}function fr(e){var t,n=e.children;return n&&(t=n.length)?n[t-1]:e._tree.thread}function pr(e,t){var n=e.children;if(n&&(r=n.length))for(var i,r,o=-1;r>++o;)t(i=pr(n[o],t),e)>0&&(e=i);return e}function mr(e,t){return e.x-t.x}function gr(e,t){return t.x-e.x}function vr(e,t){return e.depth-t.depth}function br(e,t){function n(e,i){var r=e.children;if(r&&(a=r.length))for(var o,a,s=null,l=-1;a>++l;)o=r[l],n(o,s),s=o;t(e,i)}n(e,null)}function yr(e){for(var t,n=0,i=0,r=e.children,o=r.length;--o>=0;)t=r[o]._tree,t.prelim+=n,t.mod+=n,n+=t.shift+(i+=t.change)}function xr(e,t,n){e=e._tree,t=t._tree;var i=n/(t.number-e.number);e.change+=i,t.change-=i,t.shift+=n,t.prelim+=n,t.mod+=n}function wr(e,t,n){return e._tree.ancestor.parent==t.parent?e._tree.ancestor:n}function _r(e,t){return e.value-t.value}function Cr(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function Tr(e,t){e._pack_next=t,t._pack_prev=e}function kr(e,t){var n=t.x-e.x,i=t.y-e.y,r=e.r+t.r;return r*r-n*n-i*i>.001}function Er(e){function t(e){c=Math.min(e.x-e.r,c),d=Math.max(e.x+e.r,d),h=Math.min(e.y-e.r,h),f=Math.max(e.y+e.r,f)}if((n=e.children)&&(u=n.length)){var n,i,r,o,a,s,l,u,c=1/0,d=-1/0,h=1/0,f=-1/0;if(n.forEach(Dr),i=n[0],i.x=-i.r,i.y=0,t(i),u>1&&(r=n[1],r.x=r.r,r.y=0,t(r),u>2))for(o=n[2],jr(i,r,o),t(o),Cr(i,o),i._pack_prev=o,Cr(o,r),r=i._pack_next,a=3;u>a;a++){jr(i,r,o=n[a]);var p=0,m=1,g=1;for(s=r._pack_next;s!==r;s=s._pack_next,m++)if(kr(s,o)){p=1;break}if(1==p)for(l=i._pack_prev;l!==s._pack_prev&&!kr(l,o);l=l._pack_prev,g++);p?(g>m||m==g&&r.r<i.r?Tr(i,r=s):Tr(i=l,r),a--):(Cr(i,o),r=o,t(o))}var v=(c+d)/2,b=(h+f)/2,y=0;for(a=0;u>a;a++)o=n[a],o.x-=v,o.y-=b,y=Math.max(y,o.r+Math.sqrt(o.x*o.x+o.y*o.y));e.r=y,n.forEach(Mr)}}function Dr(e){e._pack_next=e._pack_prev=e}function Mr(e){delete e._pack_next,delete e._pack_prev}function Sr(e,t,n,i){var r=e.children;if(e.x=t+=i*e.x,e.y=n+=i*e.y,e.r*=i,r)for(var o=-1,a=r.length;a>++o;)Sr(r[o],t,n,i)}function jr(e,t,n){var i=e.r+n.r,r=t.x-e.x,o=t.y-e.y;if(i&&(r||o)){var a=t.r+n.r,s=r*r+o*o;a*=a,i*=i;var l=.5+(i-a)/(2*s),u=Math.sqrt(Math.max(0,2*a*(i+s)-(i-=s)*i-a*a))/(2*s);n.x=e.x+l*r+u*o,n.y=e.y+l*o-u*r}else n.x=e.x+i,n.y=e.y}function Nr(e){return 1+sa.max(e,function(e){return e.y})}function Pr(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function Ar(e){var t=e.children;return t&&t.length?Ar(t[0]):e}function qr(e){var t,n=e.children;return n&&(t=n.length)?qr(n[t-1]):e}function Lr(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Hr(e,t){var n=e.x+t[3],i=e.y+t[0],r=e.dx-t[1]-t[3],o=e.dy-t[0]-t[2];return 0>r&&(n+=r/2,r=0),0>o&&(i+=o/2,o=0),{x:n,y:i,dx:r,dy:o}}function Or(e){var t=e[0],n=e[e.length-1];return n>t?[t,n]:[n,t]}function Fr(e){return e.rangeExtent?e.rangeExtent():Or(e.range())}function Ir(e,t,n,i){var r=n(e[0],e[1]),o=i(t[0],t[1]);return function(e){return o(r(e))}}function Br(e,t){var n,i=0,r=e.length-1,o=e[i],a=e[r];return o>a&&(n=i,i=r,r=n,n=o,o=a,a=n),(t=t(a-o))&&(e[i]=t.floor(o),e[r]=t.ceil(a)),e}function Rr(e,t,n,i){var r=[],o=[],a=0,s=Math.min(e.length,t.length)-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());s>=++a;)r.push(n(e[a-1],e[a])),o.push(i(t[a-1],t[a]));return function(t){var n=sa.bisect(e,t,1,s)-1;return o[n](r[n](t))}}function zr(e,t,n,i){function r(){var r=Math.min(e.length,t.length)>2?Rr:Ir,l=i?Bi:Ii;return a=r(e,t,l,n),s=r(t,e,l,yi),o}function o(e){return a(e)}var a,s;return o.invert=function(e){return s(e)},o.domain=function(t){return arguments.length?(e=t.map(Number),r()):e},o.range=function(e){return arguments.length?(t=e,r()):t},o.rangeRound=function(e){return o.range(e).interpolate(Fi)},o.clamp=function(e){return arguments.length?(i=e,r()):i},o.interpolate=function(e){return arguments.length?(n=e,r()):n},o.ticks=function(t){return Vr(e,t)},o.tickFormat=function(t,n){return Xr(e,t,n)},o.nice=function(){return Br(e,Ur),r()},o.copy=function(){return zr(e,t,n,i)},r()}function Wr(e,t){return sa.rebind(e,t,"range","rangeRound","interpolate","clamp")}function Ur(e){return e=Math.pow(10,Math.round(Math.log(e)/Math.LN10)-1),e&&{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}}function $r(e,t){var n=Or(e),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/t)/Math.LN10)),o=t/i*r;return.15>=o?r*=10:.35>=o?r*=5:.75>=o&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function Vr(e,t){return sa.range.apply(sa,$r(e,t))}function Xr(e,t,n){var i=-Math.floor(Math.log($r(e,t)[2])/Math.LN10+.01);return sa.format(n?n.replace(ns,function(e,t,n,r,o,a,s,l,u,c){return[t,n,r,o,a,s,l,u||"."+(i-2*("%"===c)),c].join("")}):",."+i+"f")}function Gr(e,t,n,i,r){function o(t){return e(n(t))}function a(){return n===Kr?{floor:s,ceil:l}:{floor:function(e){return-l(-e)},ceil:function(e){return-s(-e)}}}function s(e){return Math.pow(t,Math.floor(Math.log(e)/Math.log(t)))}function l(e){return Math.pow(t,Math.ceil(Math.log(e)/Math.log(t)))}return o.invert=function(t){return i(e.invert(t))},o.domain=function(t){return arguments.length?(0>t[0]?(n=Qr,i=Zr):(n=Kr,i=Yr),e.domain((r=t.map(Number)).map(n)),o):r},o.base=function(e){return arguments.length?(t=+e,o):t},o.nice=function(){return e.domain(Br(r,a).map(n)),o},o.ticks=function(){var r=Or(e.domain()),o=[];if(r.every(isFinite)){var a=Math.log(t),s=Math.floor(r[0]/a),l=Math.ceil(r[1]/a),u=i(r[0]),c=i(r[1]),d=t%1?2:t;if(n===Qr)for(o.push(-Math.pow(t,-s));l>s++;)for(var h=d-1;h>0;h--)o.push(-Math.pow(t,-s)*h);else{for(;l>s;s++)for(var h=1;d>h;h++)o.push(Math.pow(t,s)*h);o.push(Math.pow(t,s))}for(s=0;u>o[s];s++);for(l=o.length;o[l-1]>c;l--);o=o.slice(s,l)}return o},o.tickFormat=function(e,r){if(2>arguments.length&&(r=Ys),!arguments.length)return r;var a,s=Math.log(t),l=Math.max(.1,e/o.ticks().length),u=n===Qr?(a=-1e-12,Math.floor):(a=1e-12,Math.ceil);return function(e){return l>=e/i(s*u(n(e)/s+a))?r(e):""}},o.copy=function(){return Gr(e.copy(),t,n,i,r)},Wr(o,e)}function Kr(e){return Math.log(0>e?0:e)}function Yr(e){return Math.exp(e)}function Qr(e){return-Math.log(e>0?0:-e)}function Zr(e){return-Math.exp(-e)}function Jr(e,t,n){function i(t){return e(r(t))}var r=eo(t),o=eo(1/t);return i.invert=function(t){return o(e.invert(t))},i.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(r)),i):n},i.ticks=function(e){return Vr(n,e)},i.tickFormat=function(e,t){return Xr(n,e,t)},i.nice=function(){return i.domain(Br(n,Ur))},i.exponent=function(a){return arguments.length?(r=eo(t=a),o=eo(1/t),e.domain(n.map(r)),i):t},i.copy=function(){return Jr(e.copy(),t,n)},Wr(i,e)}function eo(e){return function(t){return 0>t?-Math.pow(-t,e):Math.pow(t,e)}}function to(e,t){function n(t){return a[((o.get(t)||o.set(t,e.push(t)))-1)%a.length]}function i(t,n){return sa.range(e.length).map(function(e){return t+n*e})}var o,a,s;return n.domain=function(i){if(!arguments.length)return e;e=[],o=new r;for(var a,s=-1,l=i.length;l>++s;)o.has(a=i[s])||o.set(a,e.push(a));return n[t.t].apply(n,t.a)},n.range=function(e){return arguments.length?(a=e,s=0,t={t:"range",a:arguments},n):a},n.rangePoints=function(r,o){2>arguments.length&&(o=0);var l=r[0],u=r[1],c=(u-l)/(Math.max(1,e.length-1)+o);return a=i(2>e.length?(l+u)/2:l+c*o/2,c),s=0,t={t:"rangePoints",a:arguments},n},n.rangeBands=function(r,o,l){2>arguments.length&&(o=0),3>arguments.length&&(l=o);var u=r[1]<r[0],c=r[u-0],d=r[1-u],h=(d-c)/(e.length-o+2*l);return a=i(c+h*l,h),u&&a.reverse(),s=h*(1-o),t={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(r,o,l){2>arguments.length&&(o=0),3>arguments.length&&(l=o);var u=r[1]<r[0],c=r[u-0],d=r[1-u],h=Math.floor((d-c)/(e.length-o+2*l)),f=d-c-(e.length-o)*h;return a=i(c+Math.round(f/2),h),u&&a.reverse(),s=Math.round(h*(1-o)),t={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return s},n.rangeExtent=function(){return Or(t.a[0])},n.copy=function(){return to(e,t)},n.domain(e)}function no(e,t){function n(){var n=0,o=t.length;for(r=[];o>++n;)r[n-1]=sa.quantile(e,n/o);return i}function i(e){return isNaN(e=+e)?0/0:t[sa.bisect(r,e)]}var r;return i.domain=function(t){return arguments.length?(e=t.filter(function(e){return!isNaN(e)}).sort(sa.ascending),n()):e},i.range=function(e){return arguments.length?(t=e,n()):t},i.quantiles=function(){return r},i.copy=function(){return no(e,t)},n()}function io(e,t,n){function i(t){return n[Math.max(0,Math.min(a,Math.floor(o*(t-e))))]}function r(){return o=n.length/(t-e),a=n.length-1,i}var o,a;return i.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],r()):[e,t]},i.range=function(e){return arguments.length?(n=e,r()):n},i.copy=function(){return io(e,t,n)},r()}function ro(e,t){function n(n){return t[sa.bisect(e,n)]}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return ro(e,t)},n}function oo(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return Vr(e,t)},t.tickFormat=function(t,n){return Xr(e,t,n)},t.copy=function(){return oo(e)},t}function ao(e){return e.innerRadius}function so(e){return e.outerRadius}function lo(e){return e.startAngle}function uo(e){return e.endAngle}function co(e){for(var t,n,i,r=-1,o=e.length;o>++r;)t=e[r],n=t[0],i=t[1]+tl,t[0]=n*Math.cos(i),t[1]=n*Math.sin(i);return e}function ho(e){function t(t){function l(){m.push("M",s(e(v),d),c,u(e(g.reverse()),d),"Z")}for(var h,f,p,m=[],g=[],v=[],b=-1,y=t.length,x=ut(n),w=ut(r),_=n===i?function(){return f}:ut(i),C=r===o?function(){return p}:ut(o);y>++b;)a.call(this,h=t[b],b)?(g.push([f=+x.call(this,h,b),p=+w.call(this,h,b)]),v.push([+_.call(this,h,b),+C.call(this,h,b)])):g.length&&(l(),g=[],v=[]);return g.length&&l(),m.length?m.join(""):null}var n=Ln,i=Ln,r=0,o=Hn,a=Ot,s=On,l=s.key,u=s,c="L",d=.7;return t.x=function(e){return arguments.length?(n=i=e,t):i},t.x0=function(e){return arguments.length?(n=e,t):n},t.x1=function(e){return arguments.length?(i=e,t):i},t.y=function(e){return arguments.length?(r=o=e,t):o},t.y0=function(e){return arguments.length?(r=e,t):r},t.y1=function(e){return arguments.length?(o=e,t):o},t.defined=function(e){return arguments.length?(a=e,t):a},t.interpolate=function(e){return arguments.length?(l="function"==typeof e?s=e:(s=Ls.get(e)||On).key,u=s.reverse||s,c=s.closed?"M":"L",t):l},t.tension=function(e){return arguments.length?(d=e,t):d},t}function fo(e){return e.radius}function po(e){return[e.x,e.y]}function mo(e){return function(){var t=e.apply(this,arguments),n=t[0],i=t[1]+tl;return[n*Math.cos(i),n*Math.sin(i)]}}function go(){return 64}function vo(){return"circle"}function bo(e){var t=Math.sqrt(e/La);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function yo(e,t){return ya(e,sl),e.id=t,e}function xo(e,t,n,i){var r=e.id;return A(e,"function"==typeof n?function(e,o,a){e.__transition__[r].tween.set(t,i(n.call(e,e.__data__,o,a)))}:(n=i(n),function(e){e.__transition__[r].tween.set(t,n)}))}function wo(e){return null==e&&(e=""),function(){this.textContent=e}}function _o(e,t,n,i){var o=e.__transition__||(e.__transition__={active:0,count:0}),a=o[n];if(!a){var s=i.time;return a=o[n]={tween:new r,event:sa.dispatch("start","end"),time:s,ease:i.ease,delay:i.delay,duration:i.duration},++o.count,sa.timer(function(i){function r(i){return o.active>n?u():(o.active=n,h.start.call(e,c,t),a.tween.forEach(function(n,i){(i=i.call(e,c,t))&&m.push(i)}),l(i)||sa.timer(l,0,s),1)}function l(i){if(o.active!==n)return u();for(var r=(i-f)/p,a=d(r),s=m.length;s>0;)m[--s].call(e,a);return r>=1?(u(),h.end.call(e,c,t),1):void 0}function u(){return--o.count?delete o[n]:delete e.__transition__,1}var c=e.__data__,d=a.ease,h=a.event,f=a.delay,p=a.duration,m=[];return i>=f?r(i):sa.timer(r,f,s),1},0,s),a}}function Co(e,t){e.attr("transform",function(e){return"translate("+t(e)+",0)"})}function To(e,t){e.attr("transform",function(e){return"translate(0,"+t(e)+")"})}function ko(e,t,n){if(i=[],n&&t.length>1){for(var i,r,o,a=Or(e.domain()),s=-1,l=t.length,u=(t[1]-t[0])/++n;l>++s;)for(r=n;--r>0;)(o=+t[s]-r*u)>=a[0]&&i.push(o);for(--s,r=0;n>++r&&(o=+t[s]+r*u)<a[1];)i.push(o)}return i}function Eo(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Do(e,t,n){function i(t){var n=e(t),i=o(n,1);return i-t>t-n?n:i}function r(n){return t(n=e(new pl(n-1)),1),n}function o(e,n){return t(e=new pl(+e),n),e}function a(e,i,o){var a=r(e),s=[];if(o>1)for(;i>a;)n(a)%o||s.push(new Date(+a)),t(a,1);else for(;i>a;)s.push(new Date(+a)),t(a,1);return s}function s(e,t,n){try{pl=Eo;var i=new Eo;return i._=e,a(i,t,n)}finally{pl=Date}}e.floor=e,e.round=i,e.ceil=r,e.offset=o,e.range=a;var l=e.utc=Mo(e);return l.floor=l,l.round=Mo(i),l.ceil=Mo(r),l.offset=Mo(o),l.range=s,e}function Mo(e){return function(t,n){try{pl=Eo;var i=new Eo;return i._=t,e(i,n)._}finally{pl=Date}}}function So(e,t,n,i){for(var r,o,a=0,s=t.length,l=n.length;s>a;){if(i>=l)return-1;if(r=t.charCodeAt(a++),37===r){if(o=Pl[t.charAt(a++)],!o||0>(i=o(e,n,i)))return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function jo(e){return RegExp("^(?:"+e.map(sa.requote).join("|")+")","i")}function No(e){for(var t=new r,n=-1,i=e.length;i>++n;)t.set(e[n].toLowerCase(),n);return t}function Po(e,t,n){e+="";var i=e.length;return n>i?Array(n-i+1).join(t)+e:e}function Ao(e,t,n){kl.lastIndex=0;var i=kl.exec(t.substring(n));return i?n+=i[0].length:-1}function qo(e,t,n){Tl.lastIndex=0;var i=Tl.exec(t.substring(n));return i?n+=i[0].length:-1}function Lo(e,t,n){Ml.lastIndex=0;var i=Ml.exec(t.substring(n));return i?(e.m=Sl.get(i[0].toLowerCase()),n+=i[0].length):-1}function Ho(e,t,n){El.lastIndex=0;var i=El.exec(t.substring(n));return i?(e.m=Dl.get(i[0].toLowerCase()),n+=i[0].length):-1}function Oo(e,t,n){return So(e,""+Nl.c,t,n)}function Fo(e,t,n){return So(e,""+Nl.x,t,n)}function Io(e,t,n){return So(e,""+Nl.X,t,n)}function Bo(e,t,n){Al.lastIndex=0;var i=Al.exec(t.substring(n,n+4));return i?(e.y=+i[0],n+=i[0].length):-1}function Ro(e,t,n){Al.lastIndex=0;var i=Al.exec(t.substring(n,n+2));return i?(e.y=zo(+i[0]),n+=i[0].length):-1}function zo(e){return e+(e>68?1900:2e3)}function Wo(e,t,n){Al.lastIndex=0;var i=Al.exec(t.substring(n,n+2));return i?(e.m=i[0]-1,n+=i[0].length):-1}function Uo(e,t,n){Al.lastIndex=0;var i=Al.exec(t.substring(n,n+2));return i?(e.d=+i[0],n+=i[0].length):-1}function $o(e,t,n){Al.lastIndex=0;var i=Al.exec(t.substring(n,n+2));return i?(e.H=+i[0],n+=i[0].length):-1}function Vo(e,t,n){Al.lastIndex=0;var i=Al.exec(t.substring(n,n+2));return i?(e.M=+i[0],n+=i[0].length):-1}function Xo(e,t,n){Al.lastIndex=0;var i=Al.exec(t.substring(n,n+2));return i?(e.S=+i[0],n+=i[0].length):-1}function Go(e,t,n){Al.lastIndex=0;var i=Al.exec(t.substring(n,n+3));return i?(e.L=+i[0],n+=i[0].length):-1}function Ko(e,t,n){var i=ql.get(t.substring(n,n+=2).toLowerCase());return null==i?-1:(e.p=i,n)}function Yo(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",i=~~(Math.abs(t)/60),r=Math.abs(t)%60;return n+Po(i,"0",2)+Po(r,"0",2)}function Qo(e){return e.toISOString()}function Zo(e,t,n){function i(t){return e(t)}return i.invert=function(t){return Jo(e.invert(t))},i.domain=function(t){return arguments.length?(e.domain(t),i):e.domain().map(Jo)},i.nice=function(e){return i.domain(Br(i.domain(),function(){return e}))},i.ticks=function(n,r){var o=Or(i.domain());if("function"!=typeof n){var a=o[1]-o[0],s=a/n,l=sa.bisect(Hl,s);if(l==Hl.length)return t.year(o,n);if(!l)return e.ticks(n).map(Jo);Math.log(s/Hl[l-1])<Math.log(Hl[l]/s)&&--l,n=t[l],r=n[1],n=n[0].range}return n(o[0],new Date(+o[1]+1),r)},i.tickFormat=function(){return n},i.copy=function(){return Zo(e.copy(),t,n)},Wr(i,e)}function Jo(e){return new Date(e)}function ea(e){return function(t){for(var n=e.length-1,i=e[n];!i[1](t);)i=e[--n];return i[0](t)}}function ta(e){var t=new Date(e,0,1);return t.setFullYear(e),t}function na(e){var t=e.getFullYear(),n=ta(t),i=ta(t+1);return t+(e-n)/(i-n)}function ia(e){var t=new Date(Date.UTC(e,0,1));return t.setUTCFullYear(e),t}function ra(e){var t=e.getUTCFullYear(),n=ia(t),i=ia(t+1);return t+(e-n)/(i-n)}function oa(e){return JSON.parse(e.responseText)}function aa(e){var t=la.createRange();return t.selectNode(la.body),t.createContextualFragment(e.responseText)}var sa={version:"3.1.10"};Date.now||(Date.now=function(){return+new Date});var la=document,ua=window;try{la.createElement("div").style.setProperty("opacity",0,"")}catch(ca){var da=ua.CSSStyleDeclaration.prototype,ha=da.setProperty;da.setProperty=function(e,t,n){ha.call(this,e,t+"",n)}}sa.ascending=function(e,t){return t>e?-1:e>t?1:e>=t?0:0/0},sa.descending=function(e,t){return e>t?-1:t>e?1:t>=e?0:0/0},sa.min=function(e,t){var n,i,r=-1,o=e.length;if(1===arguments.length){for(;o>++r&&(null==(n=e[r])||n!=n);)n=void 0;for(;o>++r;)null!=(i=e[r])&&n>i&&(n=i)}else{for(;o>++r&&(null==(n=t.call(e,e[r],r))||n!=n);)n=void 0;for(;o>++r;)null!=(i=t.call(e,e[r],r))&&n>i&&(n=i)}return n},sa.max=function(e,t){var n,i,r=-1,o=e.length;if(1===arguments.length){for(;o>++r&&(null==(n=e[r])||n!=n);)n=void 0;for(;o>++r;)null!=(i=e[r])&&i>n&&(n=i)}else{for(;o>++r&&(null==(n=t.call(e,e[r],r))||n!=n);)n=void 0;for(;o>++r;)null!=(i=t.call(e,e[r],r))&&i>n&&(n=i)}return n},sa.extent=function(e,t){var n,i,r,o=-1,a=e.length;if(1===arguments.length){for(;a>++o&&(null==(n=r=e[o])||n!=n);)n=r=void 0;for(;a>++o;)null!=(i=e[o])&&(n>i&&(n=i),i>r&&(r=i))}else{for(;a>++o&&(null==(n=r=t.call(e,e[o],o))||n!=n);)n=void 0;for(;a>++o;)null!=(i=t.call(e,e[o],o))&&(n>i&&(n=i),i>r&&(r=i))}return[n,r]},sa.sum=function(e,t){var n,i=0,r=e.length,o=-1;if(1===arguments.length)for(;r>++o;)isNaN(n=+e[o])||(i+=n);else for(;r>++o;)isNaN(n=+t.call(e,e[o],o))||(i+=n);return i},sa.mean=function(t,n){var i,r=t.length,o=0,a=-1,s=0;if(1===arguments.length)for(;r>++a;)e(i=t[a])&&(o+=(i-o)/++s);else for(;r>++a;)e(i=n.call(t,t[a],a))&&(o+=(i-o)/++s);return s?o:void 0},sa.quantile=function(e,t){var n=(e.length-1)*t+1,i=Math.floor(n),r=+e[i-1],o=n-i;return o?r+o*(e[i]-r):r},sa.median=function(t,n){return arguments.length>1&&(t=t.map(n)),t=t.filter(e),t.length?sa.quantile(t.sort(sa.ascending),.5):void 0},sa.bisector=function(e){return{left:function(t,n,i,r){for(3>arguments.length&&(i=0),4>arguments.length&&(r=t.length);r>i;){var o=i+r>>>1;n>e.call(t,t[o],o)?i=o+1:r=o}return i},right:function(t,n,i,r){for(3>arguments.length&&(i=0),4>arguments.length&&(r=t.length);r>i;){var o=i+r>>>1;e.call(t,t[o],o)>n?r=o:i=o+1}return i}}};var fa=sa.bisector(function(e){return e});sa.bisectLeft=fa.left,sa.bisect=sa.bisectRight=fa.right,sa.shuffle=function(e){for(var t,n,i=e.length;i;)n=0|Math.random()*i--,t=e[i],e[i]=e[n],e[n]=t;return e},sa.permute=function(e,t){for(var n=[],i=-1,r=t.length;r>++i;)n[i]=e[t[i]];return n},sa.zip=function(){if(!(r=arguments.length))return[];for(var e=-1,n=sa.min(arguments,t),i=Array(n);n>++e;)for(var r,o=-1,a=i[e]=Array(r);r>++o;)a[o]=arguments[o][e];return i},sa.transpose=function(e){return sa.zip.apply(sa,e)},sa.keys=function(e){var t=[];for(var n in e)t.push(n);return t},sa.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},sa.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},sa.merge=function(e){return Array.prototype.concat.apply([],e)},sa.range=function(e,t,i){if(3>arguments.length&&(i=1,2>arguments.length&&(t=e,e=0)),1/0===(t-e)/i)throw Error("infinite range");var r,o=[],a=n(Math.abs(i)),s=-1;if(e*=a,t*=a,i*=a,0>i)for(;(r=e+i*++s)>t;)o.push(r/a);else for(;t>(r=e+i*++s);)o.push(r/a);return o},sa.map=function(e){var t=new r;for(var n in e)t.set(n,e[n]);return t},i(r,{has:function(e){return pa+e in this},get:function(e){return this[pa+e]},set:function(e,t){return this[pa+e]=t},remove:function(e){return e=pa+e,e in this&&delete this[e]},keys:function(){var e=[];return this.forEach(function(t){e.push(t)}),e},values:function(){var e=[];return this.forEach(function(t,n){e.push(n)}),e},entries:function(){var e=[];return this.forEach(function(t,n){e.push({key:t,value:n})}),e},forEach:function(e){for(var t in this)t.charCodeAt(0)===ma&&e.call(this,t.substring(1),this[t])}});var pa="\0",ma=pa.charCodeAt(0);sa.nest=function(){function e(t,s,l){if(l>=a.length)return i?i.call(o,s):n?s.sort(n):s;for(var u,c,d,h,f=-1,p=s.length,m=a[l++],g=new r;p>++f;)(h=g.get(u=m(c=s[f])))?h.push(c):g.set(u,[c]);return t?(c=t(),d=function(n,i){c.set(n,e(t,i,l))}):(c={},d=function(n,i){c[n]=e(t,i,l)}),g.forEach(d),c}function t(e,n){if(n>=a.length)return e;var i=[],r=s[n++];return e.forEach(function(e,r){i.push({key:e,values:t(r,n)})}),r?i.sort(function(e,t){return r(e.key,t.key)}):i}var n,i,o={},a=[],s=[];return o.map=function(t,n){return e(n,t,0)},o.entries=function(n){return t(e(sa.map,n,0),0)},o.key=function(e){return a.push(e),o},o.sortKeys=function(e){return s[a.length-1]=e,o},o.sortValues=function(e){return n=e,o},o.rollup=function(e){return i=e,o},o},sa.set=function(e){var t=new o;if(e)for(var n=0;e.length>n;n++)t.add(e[n]);return t},i(o,{has:function(e){return pa+e in this
},add:function(e){return this[pa+e]=!0,e},remove:function(e){return e=pa+e,e in this&&delete this[e]},values:function(){var e=[];return this.forEach(function(t){e.push(t)}),e},forEach:function(e){for(var t in this)t.charCodeAt(0)===ma&&e.call(this,t.substring(1))}}),sa.behavior={},sa.rebind=function(e,t){for(var n,i=1,r=arguments.length;r>++i;)e[n=arguments[i]]=a(e,t,t[n]);return e},sa.dispatch=function(){for(var e=new s,t=-1,n=arguments.length;n>++t;)e[arguments[t]]=l(e);return e},s.prototype.on=function(e,t){var n=e.indexOf("."),i="";if(n>=0&&(i=e.substring(n+1),e=e.substring(0,n)),e)return 2>arguments.length?this[e].on(i):this[e].on(i,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(i,null);return this}},sa.event=null,sa.mouse=function(e){return f(e,c())};var ga=/WebKit/.test(ua.navigator.userAgent)?-1:0,va=m;try{va(la.documentElement.childNodes)[0].nodeType}catch(ba){va=p}var ya=[].__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]};sa.touches=function(e,t){return 2>arguments.length&&(t=c().touches),t?va(t).map(function(t){var n=f(e,t);return n.identifier=t.identifier,n}):[]},sa.behavior.drag=function(){function e(){this.on("mousedown.drag",t).on("touchstart.drag",t)}function t(){function e(){var e=a.parentNode;return null!=c?sa.touches(e).filter(function(e){return e.identifier===c})[0]:sa.mouse(e)}function t(){if(!a.parentNode)return r();var t=e(),n=t[0]-h[0],i=t[1]-h[1];f|=n|i,h=t,u(),s({type:"drag",x:t[0]+o[0],y:t[1]+o[1],dx:n,dy:i})}function r(){s({type:"dragend"}),f&&(u(),sa.event.target===l&&d(p,"click")),p.on(null!=c?"touchmove.drag-"+c:"mousemove.drag",null).on(null!=c?"touchend.drag-"+c:"mouseup.drag",null)}var o,a=this,s=n.of(a,arguments),l=sa.event.target,c=sa.event.touches?sa.event.changedTouches[0].identifier:null,h=e(),f=0,p=sa.select(ua).on(null!=c?"touchmove.drag-"+c:"mousemove.drag",t).on(null!=c?"touchend.drag-"+c:"mouseup.drag",r,!0);i?(o=i.apply(a,arguments),o=[o.x-h[0],o.y-h[1]]):o=[0,0],null==c&&u(),s({type:"dragstart"})}var n=h(e,"drag","dragstart","dragend"),i=null;return e.origin=function(t){return arguments.length?(i=t,e):i},sa.rebind(e,n,"on")};var xa=function(e,t){return t.querySelector(e)},wa=function(e,t){return t.querySelectorAll(e)},_a=la.documentElement,Ca=_a.matchesSelector||_a.webkitMatchesSelector||_a.mozMatchesSelector||_a.msMatchesSelector||_a.oMatchesSelector,Ta=function(e,t){return Ca.call(e,t)};"function"==typeof Sizzle&&(xa=function(e,t){return Sizzle(e,t)[0]||null},wa=function(e,t){return Sizzle.uniqueSort(Sizzle(e,t))},Ta=Sizzle.matchesSelector),sa.selection=function(){return ja};var ka=sa.selection.prototype=[];ka.select=function(e){var t,n,i,r,o=[];"function"!=typeof e&&(e=v(e));for(var a=-1,s=this.length;s>++a;){o.push(t=[]),t.parentNode=(i=this[a]).parentNode;for(var l=-1,u=i.length;u>++l;)(r=i[l])?(t.push(n=e.call(r,r.__data__,l)),n&&"__data__"in r&&(n.__data__=r.__data__)):t.push(null)}return g(o)},ka.selectAll=function(e){var t,n,i=[];"function"!=typeof e&&(e=b(e));for(var r=-1,o=this.length;o>++r;)for(var a=this[r],s=-1,l=a.length;l>++s;)(n=a[s])&&(i.push(t=va(e.call(n,n.__data__,s))),t.parentNode=n);return g(i)};var Ea={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};sa.ns={prefix:Ea,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&(n=e.substring(0,t),e=e.substring(t+1)),Ea.hasOwnProperty(n)?{space:Ea[n],local:e}:e}},ka.attr=function(e,t){if(2>arguments.length){if("string"==typeof e){var n=this.node();return e=sa.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(y(t,e[t]));return this}return this.each(y(e,t))},sa.requote=function(e){return e.replace(Da,"\\$&")};var Da=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;ka.classed=function(e,t){if(2>arguments.length){if("string"==typeof e){var n=this.node(),i=(e=e.trim().split(/^|\s+/g)).length,r=-1;if(t=n.classList){for(;i>++r;)if(!t.contains(e[r]))return!1}else for(t=n.getAttribute("class");i>++r;)if(!w(e[r]).test(t))return!1;return!0}for(t in e)this.each(_(t,e[t]));return this}return this.each(_(e,t))},ka.style=function(e,t,n){var i=arguments.length;if(3>i){if("string"!=typeof e){2>i&&(t="");for(n in e)this.each(T(n,e[n],t));return this}if(2>i)return ua.getComputedStyle(this.node(),null).getPropertyValue(e);n=""}return this.each(T(e,t,n))},ka.property=function(e,t){if(2>arguments.length){if("string"==typeof e)return this.node()[e];for(t in e)this.each(k(t,e[t]));return this}return this.each(k(e,t))},ka.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},ka.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},ka.append=function(e){function t(){return this.appendChild(la.createElementNS(this.namespaceURI,e))}function n(){return this.appendChild(la.createElementNS(e.space,e.local))}return e=sa.ns.qualify(e),this.select(e.local?n:t)},ka.insert=function(e,t){function n(n,i){return this.insertBefore(la.createElementNS(this.namespaceURI,e),t.call(this,n,i))}function i(n,i){return this.insertBefore(la.createElementNS(e.space,e.local),t.call(this,n,i))}return e=sa.ns.qualify(e),"function"!=typeof t&&(t=v(t)),this.select(e.local?i:n)},ka.remove=function(){return this.each(function(){var e=this.parentNode;e&&e.removeChild(this)})},ka.data=function(e,t){function n(e,n){var i,o,a,s=e.length,d=n.length,h=Math.min(s,d),f=Array(d),p=Array(d),m=Array(s);if(t){var g,v=new r,b=new r,y=[];for(i=-1;s>++i;)g=t.call(o=e[i],o.__data__,i),v.has(g)?m[i]=o:v.set(g,o),y.push(g);for(i=-1;d>++i;)g=t.call(n,a=n[i],i),(o=v.get(g))?(f[i]=o,o.__data__=a):b.has(g)||(p[i]=E(a)),b.set(g,a),v.remove(g);for(i=-1;s>++i;)v.has(y[i])&&(m[i]=e[i])}else{for(i=-1;h>++i;)o=e[i],a=n[i],o?(o.__data__=a,f[i]=o):p[i]=E(a);for(;d>i;++i)p[i]=E(n[i]);for(;s>i;++i)m[i]=e[i]}p.update=f,p.parentNode=f.parentNode=m.parentNode=e.parentNode,l.push(p),u.push(f),c.push(m)}var i,o,a=-1,s=this.length;if(!arguments.length){for(e=Array(s=(i=this[0]).length);s>++a;)(o=i[a])&&(e[a]=o.__data__);return e}var l=q([]),u=g([]),c=g([]);if("function"==typeof e)for(;s>++a;)n(i=this[a],e.call(i,i.parentNode.__data__,a));else for(;s>++a;)n(i=this[a],e);return u.enter=function(){return l},u.exit=function(){return c},u},ka.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},ka.filter=function(e){var t,n,i,r=[];"function"!=typeof e&&(e=D(e));for(var o=0,a=this.length;a>o;o++){r.push(t=[]),t.parentNode=(n=this[o]).parentNode;for(var s=0,l=n.length;l>s;s++)(i=n[s])&&e.call(i,i.__data__,s)&&t.push(i)}return g(r)},ka.order=function(){for(var e=-1,t=this.length;t>++e;)for(var n,i=this[e],r=i.length-1,o=i[r];--r>=0;)(n=i[r])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},ka.sort=function(e){e=M.apply(this,arguments);for(var t=-1,n=this.length;n>++t;)this[t].sort(e);return this.order()},ka.on=function(e,t,n){var i=arguments.length;if(3>i){if("string"!=typeof e){2>i&&(t=!1);for(n in e)this.each(j(n,e[n],t));return this}if(2>i)return(i=this.node()["__on"+e])&&i._;n=!1}return this.each(j(e,t,n))};var Ma=sa.map({mouseenter:"mouseover",mouseleave:"mouseout"});Ma.forEach(function(e){"on"+e in la&&Ma.remove(e)}),ka.each=function(e){return A(this,function(t,n,i){e.call(t,t.__data__,n,i)})},ka.call=function(e){var t=va(arguments);return e.apply(t[0]=this,t),this},ka.empty=function(){return!this.node()},ka.node=function(){for(var e=0,t=this.length;t>e;e++)for(var n=this[e],i=0,r=n.length;r>i;i++){var o=n[i];if(o)return o}return null};var Sa=[];sa.selection.enter=q,sa.selection.enter.prototype=Sa,Sa.append=ka.append,Sa.insert=ka.insert,Sa.empty=ka.empty,Sa.node=ka.node,Sa.select=function(e){for(var t,n,i,r,o,a=[],s=-1,l=this.length;l>++s;){i=(r=this[s]).update,a.push(t=[]),t.parentNode=r.parentNode;for(var u=-1,c=r.length;c>++u;)(o=r[u])?(t.push(i[u]=n=e.call(r.parentNode,o.__data__,u)),n.__data__=o.__data__):t.push(null)}return g(a)},ka.transition=function(){var e,t,n=rl||++ll,i=[],r=Object.create(ul);r.time=Date.now();for(var o=-1,a=this.length;a>++o;){i.push(e=[]);for(var s=this[o],l=-1,u=s.length;u>++l;)(t=s[l])&&_o(t,l,n,r),e.push(t)}return yo(i,n)},sa.select=function(e){var t=["string"==typeof e?xa(e,la):e];return t.parentNode=_a,g([t])},sa.selectAll=function(e){var t=va("string"==typeof e?wa(e,la):e);return t.parentNode=_a,g([t])};var ja=sa.select(_a);sa.behavior.zoom=function(){function e(){this.on("mousedown.zoom",s).on("mousemove.zoom",c).on(Aa+".zoom",l).on("dblclick.zoom",f).on("touchstart.zoom",p).on("touchmove.zoom",m).on("touchend.zoom",p)}function t(e){return[(e[0]-C[0])/T,(e[1]-C[1])/T]}function n(e){return[e[0]*T+C[0],e[1]*T+C[1]]}function i(e){T=Math.max(k[0],Math.min(k[1],e))}function r(e,t){t=n(t),C[0]+=e[0]-t[0],C[1]+=e[1]-t[1]}function o(){y&&y.domain(b.range().map(function(e){return(e-C[0])/T}).map(b.invert)),w&&w.domain(x.range().map(function(e){return(e-C[1])/T}).map(x.invert))}function a(e){o(),sa.event.preventDefault(),e({type:"zoom",scale:T,translate:C})}function s(){function e(){l=1,r(sa.mouse(i),h),a(o)}function n(){l&&u(),c.on("mousemove.zoom",null).on("mouseup.zoom",null),l&&sa.event.target===s&&d(c,"click.zoom")}var i=this,o=E.of(i,arguments),s=sa.event.target,l=0,c=sa.select(ua).on("mousemove.zoom",e).on("mouseup.zoom",n),h=t(sa.mouse(i));ua.focus(),u()}function l(){g||(g=t(sa.mouse(this))),i(Math.pow(2,.002*Na())*T),r(sa.mouse(this),g),a(E.of(this,arguments))}function c(){g=null}function f(){var e=sa.mouse(this),n=t(e),o=Math.log(T)/Math.LN2;i(Math.pow(2,sa.event.shiftKey?Math.ceil(o)-1:Math.floor(o)+1)),r(e,n),a(E.of(this,arguments))}function p(){var e=sa.touches(this),n=Date.now();if(v=T,g={},e.forEach(function(e){g[e.identifier]=t(e)}),u(),1===e.length){if(500>n-_){var o=e[0],s=t(e[0]);i(2*T),r(o,s),a(E.of(this,arguments))}_=n}}function m(){var e=sa.touches(this),t=e[0],n=g[t.identifier];if(o=e[1]){var o,s=g[o.identifier];t=[(t[0]+o[0])/2,(t[1]+o[1])/2],n=[(n[0]+s[0])/2,(n[1]+s[1])/2],i(sa.event.scale*v)}r(t,n),_=null,a(E.of(this,arguments))}var g,v,b,y,x,w,_,C=[0,0],T=1,k=Pa,E=h(e,"zoom");return e.translate=function(t){return arguments.length?(C=t.map(Number),o(),e):C},e.scale=function(t){return arguments.length?(T=+t,o(),e):T},e.scaleExtent=function(t){return arguments.length?(k=null==t?Pa:t.map(Number),e):k},e.x=function(t){return arguments.length?(y=t,b=t.copy(),C=[0,0],T=1,e):y},e.y=function(t){return arguments.length?(w=t,x=t.copy(),C=[0,0],T=1,e):w},sa.rebind(e,E,"on")};var Na,Pa=[0,1/0],Aa="onwheel"in la?(Na=function(){return-sa.event.deltaY*(sa.event.deltaMode?120:1)},"wheel"):"onmousewheel"in la?(Na=function(){return sa.event.wheelDelta},"mousewheel"):(Na=function(){return-sa.event.detail},"MozMousePixelScroll");L.prototype.toString=function(){return this.rgb()+""},sa.hsl=function(e,t,n){return 1===arguments.length?e instanceof O?H(e.h,e.s,e.l):rt(""+e,ot,H):H(+e,+t,+n)};var qa=O.prototype=new L;qa.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),H(this.h,this.s,this.l/e)},qa.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),H(this.h,this.s,e*this.l)},qa.rgb=function(){return F(this.h,this.s,this.l)};var La=Math.PI,Ha=1e-6,Oa=La/180,Fa=180/La;sa.hcl=function(e,t,n){return 1===arguments.length?e instanceof V?$(e.h,e.c,e.l):e instanceof K?Q(e.l,e.a,e.b):Q((e=at((e=sa.rgb(e)).r,e.g,e.b)).l,e.a,e.b):$(+e,+t,+n)};var Ia=V.prototype=new L;Ia.brighter=function(e){return $(this.h,this.c,Math.min(100,this.l+Ba*(arguments.length?e:1)))},Ia.darker=function(e){return $(this.h,this.c,Math.max(0,this.l-Ba*(arguments.length?e:1)))},Ia.rgb=function(){return X(this.h,this.c,this.l).rgb()},sa.lab=function(e,t,n){return 1===arguments.length?e instanceof K?G(e.l,e.a,e.b):e instanceof V?X(e.l,e.c,e.h):at((e=sa.rgb(e)).r,e.g,e.b):G(+e,+t,+n)};var Ba=18,Ra=.95047,za=1,Wa=1.08883,Ua=K.prototype=new L;Ua.brighter=function(e){return G(Math.min(100,this.l+Ba*(arguments.length?e:1)),this.a,this.b)},Ua.darker=function(e){return G(Math.max(0,this.l-Ba*(arguments.length?e:1)),this.a,this.b)},Ua.rgb=function(){return Y(this.l,this.a,this.b)},sa.rgb=function(e,t,n){return 1===arguments.length?e instanceof nt?tt(e.r,e.g,e.b):rt(""+e,tt,F):tt(~~e,~~t,~~n)};var $a=nt.prototype=new L;$a.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,i=this.b,r=30;return t||n||i?(t&&r>t&&(t=r),n&&r>n&&(n=r),i&&r>i&&(i=r),tt(Math.min(255,Math.floor(t/e)),Math.min(255,Math.floor(n/e)),Math.min(255,Math.floor(i/e)))):tt(r,r,r)},$a.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),tt(Math.floor(e*this.r),Math.floor(e*this.g),Math.floor(e*this.b))},$a.hsl=function(){return ot(this.r,this.g,this.b)},$a.toString=function(){return"#"+it(this.r)+it(this.g)+it(this.b)};var Va=sa.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});Va.forEach(function(e,t){Va.set(e,rt(t,tt,F))}),sa.functor=ut,sa.xhr=dt(ct),sa.csv=pt(",","text/csv"),sa.tsv=pt("	","text/tab-separated-values");var Xa,Ga,Ka,Ya;sa.timer=function(e,t,n){if(3>arguments.length){if(2>arguments.length)t=0;else if(!isFinite(t))return;n=Date.now()}var i=n+t,r={callback:e,time:i,next:null};Ga?Ga.next=r:Xa=r,Ga=r,Ka||(Ya=clearTimeout(Ya),Ka=1,Qa(mt))},sa.timer.flush=function(){gt(),vt()};var Qa=ua.requestAnimationFrame||ua.webkitRequestAnimationFrame||ua.mozRequestAnimationFrame||ua.oRequestAnimationFrame||ua.msRequestAnimationFrame||function(e){setTimeout(e,17)},Za=".",Ja=",",es=[3,3],ts=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(bt);sa.formatPrefix=function(e,t){var n=0;return e&&(0>e&&(e*=-1),t&&(e=sa.round(e,yt(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((0>=n?n+1:n-1)/3)))),ts[8+n/3]},sa.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)},sa.format=function(e){var t=ns.exec(e),n=t[1]||" ",i=t[2]||">",r=t[3]||"",o=t[4]||"",a=t[5],s=+t[6],l=t[7],u=t[8],c=t[9],d=1,h="",f=!1;switch(u&&(u=+u.substring(1)),(a||"0"===n&&"="===i)&&(a=n="0",i="=",l&&(s-=Math.floor((s-1)/4))),c){case"n":l=!0,c="g";break;case"%":d=100,h="%",c="f";break;case"p":d=100,h="%",c="r";break;case"b":case"o":case"x":case"X":o&&(o="0"+c.toLowerCase());case"c":case"d":f=!0,u=0;break;case"s":d=-1,c="r"}"#"===o&&(o=""),"r"!=c||u||(c="g"),null!=u&&("g"==c?u=Math.max(1,Math.min(21,u)):("e"==c||"f"==c)&&(u=Math.max(0,Math.min(20,u)))),c=is.get(c)||xt;var p=a&&l;return function(e){if(f&&e%1)return"";var t=0>e||0===e&&0>1/e?(e=-e,"-"):r;if(0>d){var m=sa.formatPrefix(e,u);e=m.scale(e),h=m.symbol}else e*=d;e=c(e,u),!a&&l&&(e=rs(e));var g=o.length+e.length+(p?0:t.length),v=s>g?Array(g=s-g+1).join(n):"";return p&&(e=rs(v+e)),Za&&e.replace(".",Za),t+=o,("<"===i?t+e+v:">"===i?v+t+e:"^"===i?v.substring(0,g>>=1)+t+e+v.substring(g):t+(p?e:v+e))+h}};var ns=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,is=sa.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=sa.round(e,yt(e,t))).toFixed(Math.max(0,Math.min(20,yt(e*(1+1e-15),t))))}}),rs=ct;if(es){var os=es.length;rs=function(e){for(var t=e.lastIndexOf("."),n=t>=0?"."+e.substring(t+1):(t=e.length,""),i=[],r=0,o=es[0];t>0&&o>0;)i.push(e.substring(t-=o,t+o)),o=es[r=(r+1)%os];return i.reverse().join(Ja||"")+n}}sa.geo={},sa.geo.stream=function(e,t){e&&as.hasOwnProperty(e.type)?as[e.type](e,t):wt(e,t)};var as={Feature:function(e,t){wt(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;r>++i;)wt(n[i].geometry,t)}},ss={Sphere:function(e,t){t.sphere()},Point:function(e,t){var n=e.coordinates;t.point(n[0],n[1])},MultiPoint:function(e,t){for(var n,i=e.coordinates,r=-1,o=i.length;o>++r;)n=i[r],t.point(n[0],n[1])},LineString:function(e,t){_t(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;r>++i;)_t(n[i],t,0)},Polygon:function(e,t){Ct(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;r>++i;)Ct(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;r>++i;)wt(n[i],t)}};sa.geo.area=function(e){return ls=0,sa.geo.stream(e,cs),ls};var ls,us,cs={sphere:function(){ls+=4*La},point:S,lineStart:S,lineEnd:S,polygonStart:function(){us=0,cs.lineStart=Tt},polygonEnd:function(){var e=2*us;ls+=0>e?4*La+e:e,cs.lineStart=cs.lineEnd=cs.point=S}};sa.geo.bounds=function(){function e(e,t){y.push(x=[c=e,h=e]),d>t&&(d=t),t>f&&(f=t)}function t(t,n){var i=kt([t*Oa,n*Oa]);if(v){var r=Dt(v,i),o=[r[1],-r[0],0],a=Dt(o,r);jt(a),a=Nt(a);var l=t-p,u=l>0?1:-1,m=a[0]*Fa*u,g=Math.abs(l)>180;if(g^(m>u*p&&u*t>m)){var b=a[1]*Fa;b>f&&(f=b)}else if(m=(m+360)%360-180,g^(m>u*p&&u*t>m)){var b=-a[1]*Fa;d>b&&(d=b)}else d>n&&(d=n),n>f&&(f=n);g?p>t?s(c,t)>s(c,h)&&(h=t):s(t,h)>s(c,h)&&(c=t):h>=c?(c>t&&(c=t),t>h&&(h=t)):t>p?s(c,t)>s(c,h)&&(h=t):s(t,h)>s(c,h)&&(c=t)}else e(t,n);v=i,p=t}function n(){w.point=t}function i(){x[0]=c,x[1]=h,w.point=e,v=null}function r(e,n){if(v){var i=e-p;b+=Math.abs(i)>180?i+(i>0?360:-360):i}else m=e,g=n;cs.point(e,n),t(e,n)}function o(){cs.lineStart()}function a(){r(m,g),cs.lineEnd(),Math.abs(b)>Ha&&(c=-(h=180)),x[0]=c,x[1]=h,v=null}function s(e,t){return 0>(t-=e)?t+360:t}function l(e,t){return e[0]-t[0]}function u(e,t){return t[0]<=t[1]?e>=t[0]&&t[1]>=e:t[0]>e||e>t[1]}var c,d,h,f,p,m,g,v,b,y,x,w={point:e,lineStart:n,lineEnd:i,polygonStart:function(){w.point=r,w.lineStart=o,w.lineEnd=a,b=0,cs.polygonStart()},polygonEnd:function(){cs.polygonEnd(),w.point=e,w.lineStart=n,w.lineEnd=i,0>us?(c=-(h=180),d=-(f=90)):b>Ha?f=90:-Ha>b&&(d=-90),x[0]=c,x[1]=h}};return function(e){f=h=-(c=d=1/0),y=[],sa.geo.stream(e,w),y.sort(l);for(var t,n=1,i=y.length,r=y[0],o=[r];i>n;++n)t=y[n],u(t[0],r)||u(t[1],r)?(s(r[0],t[1])>s(r[0],r[1])&&(r[1]=t[1]),s(t[0],r[1])>s(r[0],r[1])&&(r[0]=t[0])):o.push(r=t);for(var a,t,p=-1/0,i=o.length-1,n=0,r=o[i];i>=n;r=t,++n)t=o[n],(a=s(r[1],t[0]))>p&&(p=a,c=t[0],h=r[1]);return y=x=null,[[c,d],[h,f]]}}(),sa.geo.centroid=function(e){ds=hs=fs=ps=ms=0,sa.geo.stream(e,gs);var t;return hs&&Math.abs(t=Math.sqrt(fs*fs+ps*ps+ms*ms))>Ha?[Math.atan2(ps,fs)*Fa,Math.asin(Math.max(-1,Math.min(1,ms/t)))*Fa]:void 0};var ds,hs,fs,ps,ms,gs={sphere:function(){2>ds&&(ds=2,hs=fs=ps=ms=0)},point:At,lineStart:Lt,lineEnd:Ht,polygonStart:function(){2>ds&&(ds=2,hs=fs=ps=ms=0),gs.lineStart=qt},polygonEnd:function(){gs.lineStart=Lt}},vs=Bt(Ot,$t,Xt),bs=1e9;sa.geo.projection=Jt,sa.geo.projectionMutator=en,(sa.geo.equirectangular=function(){return Jt(nn)}).raw=nn.invert=nn,sa.geo.rotation=function(e){function t(t){return t=e(t[0]*Oa,t[1]*Oa),t[0]*=Fa,t[1]*=Fa,t}return e=rn(e[0]%360*Oa,e[1]*Oa,e.length>2?e[2]*Oa:0),t.invert=function(t){return t=e.invert(t[0]*Oa,t[1]*Oa),t[0]*=Fa,t[1]*=Fa,t},t},sa.geo.circle=function(){function e(){var e="function"==typeof i?i.apply(this,arguments):i,t=rn(-e[0]*Oa,-e[1]*Oa,0).invert,r=[];return n(null,null,1,{point:function(e,n){r.push(e=t(e,n)),e[0]*=Fa,e[1]*=Fa}}),{type:"Polygon",coordinates:[r]}}var t,n,i=[0,0],r=6;return e.origin=function(t){return arguments.length?(i=t,e):i},e.angle=function(i){return arguments.length?(n=ln((t=+i)*Oa,r*Oa),e):t},e.precision=function(i){return arguments.length?(n=ln(t*Oa,(r=+i)*Oa),e):r},e.angle(90)},sa.geo.distance=function(e,t){var n,i=(t[0]-e[0])*Oa,r=e[1]*Oa,o=t[1]*Oa,a=Math.sin(i),s=Math.cos(i),l=Math.sin(r),u=Math.cos(r),c=Math.sin(o),d=Math.cos(o);return Math.atan2(Math.sqrt((n=d*a)*n+(n=u*c-l*d*s)*n),l*c+u*d*s)},sa.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return sa.range(Math.ceil(o/g)*g,r,g).map(h).concat(sa.range(Math.ceil(u/v)*v,l,v).map(f)).concat(sa.range(Math.ceil(i/p)*p,n,p).filter(function(e){return Math.abs(e%g)>Ha}).map(c)).concat(sa.range(Math.ceil(s/m)*m,a,m).filter(function(e){return Math.abs(e%v)>Ha}).map(d))}var n,i,r,o,a,s,l,u,c,d,h,f,p=10,m=p,g=90,v=360,b=2.5;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[h(o).concat(f(l).slice(1),h(r).reverse().slice(1),f(u).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(o=+t[0][0],r=+t[1][0],u=+t[0][1],l=+t[1][1],o>r&&(t=o,o=r,r=t),u>l&&(t=u,u=l,l=t),e.precision(b)):[[o,u],[r,l]]},e.minorExtent=function(t){return arguments.length?(i=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],i>n&&(t=i,i=n,n=t),s>a&&(t=s,s=a,a=t),e.precision(b)):[[i,s],[n,a]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(g=+t[0],v=+t[1],e):[g,v]},e.minorStep=function(t){return arguments.length?(p=+t[0],m=+t[1],e):[p,m]},e.precision=function(t){return arguments.length?(b=+t,c=cn(s,a,90),d=dn(i,n,b),h=cn(u,l,90),f=dn(o,r,b),e):b},e.majorExtent([[-180,-90+Ha],[180,90-Ha]]).minorExtent([[-180,-80-Ha],[180,80+Ha]])},sa.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[t||i.apply(this,arguments),n||r.apply(this,arguments)]}}var t,n,i=hn,r=fn;return e.distance=function(){return sa.geo.distance(t||i.apply(this,arguments),n||r.apply(this,arguments))},e.source=function(n){return arguments.length?(i=n,t="function"==typeof n?null:n,e):i},e.target=function(t){return arguments.length?(r=t,n="function"==typeof t?null:t,e):r},e.precision=function(){return arguments.length?e:0},e},sa.geo.interpolate=function(e,t){return pn(e[0]*Oa,e[1]*Oa,t[0]*Oa,t[1]*Oa)},sa.geo.length=function(e){return ys=0,sa.geo.stream(e,xs),ys};var ys,xs={sphere:S,point:S,lineStart:mn,lineEnd:S,polygonStart:S,polygonEnd:S};(sa.geo.conicEqualArea=function(){return gn(vn)}).raw=vn,sa.geo.albers=function(){return sa.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},sa.geo.albersUsa=function(){function e(e){var o=e[0],a=e[1];return t=null,n(o,a),t||(i(o,a),t)||r(o,a),t}var t,n,i,r,o=sa.geo.albers(),a=sa.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=sa.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(e,n){t=[e,n]}};return e.invert=function(e){var t=o.scale(),n=o.translate(),i=(e[0]-n[0])/t,r=(e[1]-n[1])/t;return(r>=.12&&.234>r&&i>=-.425&&-.214>i?a:r>=.166&&.234>r&&i>=-.214&&-.115>i?s:o).invert(e)},e.stream=function(e){var t=o.stream(e),n=a.stream(e),i=s.stream(e);return{point:function(e,r){t.point(e,r),n.point(e,r),i.point(e,r)},sphere:function(){t.sphere(),n.sphere(),i.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},e.precision=function(t){return arguments.length?(o.precision(t),a.precision(t),s.precision(t),e):o.precision()},e.scale=function(t){return arguments.length?(o.scale(t),a.scale(.35*t),s.scale(t),e.translate(o.translate())):o.scale()},e.translate=function(t){if(!arguments.length)return o.translate();var u=o.scale(),c=+t[0],d=+t[1];return n=o.translate(t).clipExtent([[c-.455*u,d-.238*u],[c+.455*u,d+.238*u]]).stream(l).point,i=a.translate([c-.307*u,d+.201*u]).clipExtent([[c-.425*u+Ha,d+.12*u+Ha],[c-.214*u-Ha,d+.234*u-Ha]]).stream(l).point,r=s.translate([c-.205*u,d+.212*u]).clipExtent([[c-.214*u+Ha,d+.166*u+Ha],[c-.115*u-Ha,d+.234*u-Ha]]).stream(l).point,e},e.scale(1070)};var ws,_s,Cs,Ts,ks,Es,Ds={point:S,lineStart:S,lineEnd:S,polygonStart:function(){_s=0,Ds.lineStart=bn},polygonEnd:function(){Ds.lineStart=Ds.lineEnd=Ds.point=S,ws+=Math.abs(_s/2)}},Ms={point:yn,lineStart:S,lineEnd:S,polygonStart:S,polygonEnd:S},Ss={point:_n,lineStart:Cn,lineEnd:Tn,polygonStart:function(){Ss.lineStart=kn},polygonEnd:function(){Ss.point=_n,Ss.lineStart=Cn,Ss.lineEnd=Tn}};sa.geo.path=function(){function e(e){return e&&sa.geo.stream(e,i(r.pointRadius("function"==typeof o?+o.apply(this,arguments):o))),r.result()}var t,n,i,r,o=4.5;return e.area=function(e){return ws=0,sa.geo.stream(e,i(Ds)),ws},e.centroid=function(e){return ds=fs=ps=ms=0,sa.geo.stream(e,i(Ss)),ms?[fs/ms,ps/ms]:void 0},e.bounds=function(e){return ks=Es=-(Cs=Ts=1/0),sa.geo.stream(e,i(Ms)),[[Cs,Ts],[ks,Es]]},e.projection=function(n){return arguments.length?(i=(t=n)?n.stream||Dn(n):ct,e):t},e.context=function(t){return arguments.length?(r=null==(n=t)?new xn:new En(t),e):n},e.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:+t,e):o},e.projection(sa.geo.albersUsa()).context(null)};var js=Mn(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(sa.geo.azimuthalEqualArea=function(){return Jt(js)}).raw=js;var Ns=Mn(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},ct);(sa.geo.azimuthalEquidistant=function(){return Jt(Ns)}).raw=Ns,(sa.geo.conicConformal=function(){return gn(Sn)}).raw=Sn,(sa.geo.conicEquidistant=function(){return gn(jn)}).raw=jn;var Ps=Mn(function(e){return 1/e},Math.atan);(sa.geo.gnomonic=function(){return Jt(Ps)}).raw=Ps,Nn.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-La/2]},(sa.geo.mercator=function(){return Pn(Nn)}).raw=Nn;var As=Mn(function(){return 1},Math.asin);(sa.geo.orthographic=function(){return Jt(As)}).raw=As;var qs=Mn(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(sa.geo.stereographic=function(){return Jt(qs)}).raw=qs,An.invert=function(e,t){return[Math.atan2(z(e),Math.cos(t)),R(Math.sin(t)/W(e))]},(sa.geo.transverseMercator=function(){return Pn(An)}).raw=An,sa.geom={},sa.svg={},sa.svg.line=function(){return qn(ct)};var Ls=sa.map({linear:On,"linear-closed":Fn,"step-before":In,"step-after":Bn,basis:Vn,"basis-open":Xn,"basis-closed":Gn,bundle:Kn,cardinal:Wn,"cardinal-open":Rn,"cardinal-closed":zn,monotone:ti});Ls.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var Hs=[0,2/3,1/3,0],Os=[0,1/3,2/3,0],Fs=[0,1/6,2/3,1/6];sa.geom.hull=function(e){function t(e){if(3>e.length)return[];var t,r,o,a,s,l,u,c,d,h,f,p,m=ut(n),g=ut(i),v=e.length,b=v-1,y=[],x=[],w=0;if(m===Ln&&i===Hn)t=e;else for(o=0,t=[];v>o;++o)t.push([+m.call(this,r=e[o],o),+g.call(this,r,o)]);for(o=1;v>o;++o)(t[o][1]<t[w][1]||t[o][1]==t[w][1]&&t[o][0]<t[w][0])&&(w=o);for(o=0;v>o;++o)o!==w&&(l=t[o][1]-t[w][1],s=t[o][0]-t[w][0],y.push({angle:Math.atan2(l,s),index:o}));for(y.sort(function(e,t){return e.angle-t.angle}),f=y[0].angle,h=y[0].index,d=0,o=1;b>o;++o){if(a=y[o].index,f==y[o].angle){if(s=t[h][0]-t[w][0],l=t[h][1]-t[w][1],u=t[a][0]-t[w][0],c=t[a][1]-t[w][1],s*s+l*l>=u*u+c*c){y[o].index=-1;continue}y[d].index=-1}f=y[o].angle,d=o,h=a}for(x.push(w),o=0,a=0;2>o;++a)y[a].index>-1&&(x.push(y[a].index),o++);for(p=x.length;b>a;++a)if(!(0>y[a].index)){for(;!ni(x[p-2],x[p-1],y[a].index,t);)--p;x[p++]=y[a].index}var _=[];for(o=p-1;o>=0;--o)_.push(e[x[o]]);return _}var n=Ln,i=Hn;return arguments.length?t(e):(t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(i=e,t):i},t)},sa.geom.polygon=function(e){return e.area=function(){for(var t=0,n=e.length,i=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];n>++t;)i+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return.5*i},e.centroid=function(t){var n,i,r=-1,o=e.length,a=0,s=0,l=e[o-1];for(arguments.length||(t=-1/(6*e.area()));o>++r;)n=l,l=e[r],i=n[0]*l[1]-l[0]*n[1],a+=(n[0]+l[0])*i,s+=(n[1]+l[1])*i;return[a*t,s*t]},e.clip=function(t){for(var n,i,r,o,a,s,l=-1,u=e.length,c=e[u-1];u>++l;){for(n=t.slice(),t.length=0,o=e[l],a=n[(r=n.length)-1],i=-1;r>++i;)s=n[i],ii(s,c,o)?(ii(a,c,o)||t.push(ri(a,s,c,o)),t.push(s)):ii(a,c,o)&&t.push(ri(a,s,c,o)),a=s;c=o}return t},e},sa.geom.delaunay=function(e){var t=e.map(function(){return[]}),n=[];return oi(e,function(n){t[n.region.l.index].push(e[n.region.r.index])}),t.forEach(function(t,i){var r=e[i],o=r[0],a=r[1];t.forEach(function(e){e.angle=Math.atan2(e[0]-o,e[1]-a)}),t.sort(function(e,t){return e.angle-t.angle});for(var s=0,l=t.length-1;l>s;s++)n.push([r,t[s],t[s+1]])}),n},sa.geom.voronoi=function(e){function t(e){var t,i,a,s=e.map(function(){return[]}),l=ut(r),u=ut(o),c=e.length,d=1e6;if(l===Ln&&u===Hn)t=e;else for(t=[],a=0;c>a;++a)t.push([+l.call(this,i=e[a],a),+u.call(this,i,a)]);if(oi(t,function(e){var t,n,i,r,o,a;1===e.a&&e.b>=0?(t=e.ep.r,n=e.ep.l):(t=e.ep.l,n=e.ep.r),1===e.a?(o=t?t.y:-d,i=e.c-e.b*o,a=n?n.y:d,r=e.c-e.b*a):(i=t?t.x:-d,o=e.c-e.a*i,r=n?n.x:d,a=e.c-e.a*r);var l=[i,o],u=[r,a];s[e.region.l.index].push(l,u),s[e.region.r.index].push(l,u)}),s=s.map(function(e,n){var i=t[n][0],r=t[n][1],o=e.map(function(e){return Math.atan2(e[0]-i,e[1]-r)
}),a=sa.range(e.length).sort(function(e,t){return o[e]-o[t]});return a.filter(function(e,t){return!t||o[e]-o[a[t-1]]>Ha}).map(function(t){return e[t]})}),s.forEach(function(e,n){var i=e.length;if(!i)return e.push([-d,-d],[-d,d],[d,d],[d,-d]);if(!(i>2)){var r=t[n],o=e[0],a=e[1],s=r[0],l=r[1],u=o[0],c=o[1],h=a[0],f=a[1],p=Math.abs(h-u),m=f-c;if(Ha>Math.abs(m)){var g=c>l?-d:d;e.push([-d,g],[d,g])}else if(Ha>p){var v=u>s?-d:d;e.push([v,-d],[v,d])}else{var g=(u-s)*(f-c)>(h-u)*(c-l)?d:-d,b=Math.abs(m)-p;Ha>Math.abs(b)?e.push([0>m?g:-g,g]):(b>0&&(g*=-1),e.push([-d,g],[d,g]))}}}),n)for(a=0;c>a;++a)n(s[a]);for(a=0;c>a;++a)s[a].point=e[a];return s}var n,i=null,r=Ln,o=Hn;return arguments.length?t(e):(t.x=function(e){return arguments.length?(r=e,t):r},t.y=function(e){return arguments.length?(o=e,t):o},t.size=function(e){return arguments.length?(null==e?n=null:(i=[+e[0],+e[1]],n=sa.geom.polygon([[0,0],[0,i[1]],i,[i[0],0]]).clip),t):i},t.links=function(e){var t,n,i,a=e.map(function(){return[]}),s=[],l=ut(r),u=ut(o),c=e.length;if(l===Ln&&u===Hn)t=e;else for(i=0;c>i;++i)t.push([+l.call(this,n=e[i],i),+u.call(this,n,i)]);return oi(t,function(t){var n=t.region.l.index,i=t.region.r.index;a[n][i]||(a[n][i]=a[i][n]=!0,s.push({source:e[n],target:e[i]}))}),s},t.triangles=function(e){if(r===Ln&&o===Hn)return sa.geom.delaunay(e);var t,n,i,a,s,l=ut(r),u=ut(o);for(a=0,t=[],s=e.length;s>a;++a)n=[+l.call(this,i=e[a],a),+u.call(this,i,a)],n.data=i,t.push(n);return sa.geom.delaunay(t).map(function(e){return e.map(function(e){return e.data})})},t)};var Is={l:"r",r:"l"};sa.geom.quadtree=function(e,t,n,i,r){function o(e){function o(e,t,n,i,r,o,a,s){if(!isNaN(n)&&!isNaN(i))if(e.leaf){var l=e.x,c=e.y;if(null!=l)if(.01>Math.abs(l-n)+Math.abs(c-i))u(e,t,n,i,r,o,a,s);else{var d=e.point;e.x=e.y=e.point=null,u(e,d,l,c,r,o,a,s),u(e,t,n,i,r,o,a,s)}else e.x=n,e.y=i,e.point=t}else u(e,t,n,i,r,o,a,s)}function u(e,t,n,i,r,a,s,l){var u=.5*(r+s),c=.5*(a+l),d=n>=u,h=i>=c,f=(h<<1)+d;e.leaf=!1,e=e.nodes[f]||(e.nodes[f]=li()),d?r=u:s=u,h?a=c:l=c,o(e,t,n,i,r,a,s,l)}var c,d,h,f,p,m,g,v,b,y=ut(s),x=ut(l);if(null!=t)m=t,g=n,v=i,b=r;else if(v=b=-(m=g=1/0),d=[],h=[],p=e.length,a)for(f=0;p>f;++f)c=e[f],m>c.x&&(m=c.x),g>c.y&&(g=c.y),c.x>v&&(v=c.x),c.y>b&&(b=c.y),d.push(c.x),h.push(c.y);else for(f=0;p>f;++f){var w=+y(c=e[f],f),_=+x(c,f);m>w&&(m=w),g>_&&(g=_),w>v&&(v=w),_>b&&(b=_),d.push(w),h.push(_)}var C=v-m,T=b-g;C>T?b=g+C:v=m+T;var k=li();if(k.add=function(e){o(k,e,+y(e,++f),+x(e,f),m,g,v,b)},k.visit=function(e){ui(e,k,m,g,v,b)},f=-1,null==t){for(;p>++f;)o(k,e[f],d[f],h[f],m,g,v,b);--f}else e.forEach(k.add);return d=h=e=c=null,k}var a,s=Ln,l=Hn;return(a=arguments.length)?(s=ai,l=si,3===a&&(r=n,i=t,n=t=0),o(e)):(o.x=function(e){return arguments.length?(s=e,o):s},o.y=function(e){return arguments.length?(l=e,o):l},o.size=function(e){return arguments.length?(null==e?t=n=i=r=null:(t=n=0,i=+e[0],r=+e[1]),o):null==t?null:[i,r]},o)},sa.interpolateRgb=ci,sa.transform=function(e){var t=la.createElementNS(sa.ns.prefix.svg,"g");return(sa.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new di(n?n.matrix:Bs)})(e)},di.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Bs={a:1,b:0,c:0,d:1,e:0,f:0};sa.interpolateNumber=mi,sa.interpolateTransform=gi,sa.interpolateObject=vi,sa.interpolateString=bi;var Rs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;sa.interpolate=yi,sa.interpolators=[function(e,t){var n=typeof t;return("string"===n?Va.has(t)||/^(#|rgb\(|hsl\()/.test(t)?ci:bi:t instanceof L?ci:"object"===n?Array.isArray(t)?wi:vi:mi)(e,t)}],sa.interpolateArray=wi;var zs=function(){return ct},Ws=sa.map({linear:zs,poly:Mi,quad:function(){return ki},cubic:function(){return Ei},sin:function(){return Si},exp:function(){return ji},circle:function(){return Ni},elastic:Pi,back:Ai,bounce:function(){return qi}}),Us=sa.map({"in":ct,out:Ci,"in-out":Ti,"out-in":function(e){return Ti(Ci(e))}});sa.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.substring(0,t):e,i=t>=0?e.substring(t+1):"in";return n=Ws.get(n)||zs,i=Us.get(i)||ct,_i(i(n.apply(null,Array.prototype.slice.call(arguments,1))))},sa.interpolateHcl=Li,sa.interpolateHsl=Hi,sa.interpolateLab=Oi,sa.interpolateRound=Fi,sa.layout={},sa.layout.bundle=function(){return function(e){for(var t=[],n=-1,i=e.length;i>++n;)t.push(Ri(e[n]));return t}},sa.layout.chord=function(){function e(){var e,u,d,h,f,p={},m=[],g=sa.range(o),v=[];for(n=[],i=[],e=0,h=-1;o>++h;){for(u=0,f=-1;o>++f;)u+=r[h][f];m.push(u),v.push(sa.range(o)),e+=u}for(a&&g.sort(function(e,t){return a(m[e],m[t])}),s&&v.forEach(function(e,t){e.sort(function(e,n){return s(r[t][e],r[t][n])})}),e=(2*La-c*o)/e,u=0,h=-1;o>++h;){for(d=u,f=-1;o>++f;){var b=g[h],y=v[b][f],x=r[b][y],w=u,_=u+=x*e;p[b+"-"+y]={index:b,subindex:y,startAngle:w,endAngle:_,value:x}}i[b]={index:b,startAngle:d,endAngle:u,value:(u-d)/e},u+=c}for(h=-1;o>++h;)for(f=h-1;o>++f;){var C=p[h+"-"+f],T=p[f+"-"+h];(C.value||T.value)&&n.push(C.value<T.value?{source:T,target:C}:{source:C,target:T})}l&&t()}function t(){n.sort(function(e,t){return l((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var n,i,r,o,a,s,l,u={},c=0;return u.matrix=function(e){return arguments.length?(o=(r=e)&&r.length,n=i=null,u):r},u.padding=function(e){return arguments.length?(c=e,n=i=null,u):c},u.sortGroups=function(e){return arguments.length?(a=e,n=i=null,u):a},u.sortSubgroups=function(e){return arguments.length?(s=e,n=null,u):s},u.sortChords=function(e){return arguments.length?(l=e,n&&t(),u):l},u.chords=function(){return n||e(),n},u.groups=function(){return i||e(),i},u},sa.layout.force=function(){function e(e){return function(t,n,i,r){if(t.point!==e){var o=t.cx-e.x,a=t.cy-e.y,s=1/Math.sqrt(o*o+a*a);if(m>(r-n)*s){var l=t.charge*s*s;return e.px-=o*l,e.py-=a*l,!0}if(t.point&&isFinite(s)){var l=t.pointCharge*s*s;e.px-=o*l,e.py-=a*l}}return!t.charge}}function t(e){e.px=sa.event.x,e.py=sa.event.y,s.resume()}var n,i,r,o,a,s={},l=sa.dispatch("start","tick","end"),u=[1,1],c=.9,d=$s,h=Vs,f=-30,p=.1,m=.8,g=[],v=[];return s.tick=function(){if(.005>(i*=.99))return l.end({type:"end",alpha:i=0}),!0;var t,n,s,d,h,m,b,y,x,w=g.length,_=v.length;for(n=0;_>n;++n)s=v[n],d=s.source,h=s.target,y=h.x-d.x,x=h.y-d.y,(m=y*y+x*x)&&(m=i*o[n]*((m=Math.sqrt(m))-r[n])/m,y*=m,x*=m,h.x-=y*(b=d.weight/(h.weight+d.weight)),h.y-=x*b,d.x+=y*(b=1-b),d.y+=x*b);if((b=i*p)&&(y=u[0]/2,x=u[1]/2,n=-1,b))for(;w>++n;)s=g[n],s.x+=(y-s.x)*b,s.y+=(x-s.y)*b;if(f)for(Gi(t=sa.geom.quadtree(g),i,a),n=-1;w>++n;)(s=g[n]).fixed||t.visit(e(s));for(n=-1;w>++n;)s=g[n],s.fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*c,s.y-=(s.py-(s.py=s.y))*c);l.tick({type:"tick",alpha:i})},s.nodes=function(e){return arguments.length?(g=e,s):g},s.links=function(e){return arguments.length?(v=e,s):v},s.size=function(e){return arguments.length?(u=e,s):u},s.linkDistance=function(e){return arguments.length?(d="function"==typeof e?e:+e,s):d},s.distance=s.linkDistance,s.linkStrength=function(e){return arguments.length?(h="function"==typeof e?e:+e,s):h},s.friction=function(e){return arguments.length?(c=+e,s):c},s.charge=function(e){return arguments.length?(f="function"==typeof e?e:+e,s):f},s.gravity=function(e){return arguments.length?(p=+e,s):p},s.theta=function(e){return arguments.length?(m=+e,s):m},s.alpha=function(e){return arguments.length?(e=+e,i?i=e>0?e:0:e>0&&(l.start({type:"start",alpha:i=e}),sa.timer(s.tick)),s):i},s.start=function(){function e(e,i){for(var r,o=t(n),a=-1,s=o.length;s>++a;)if(!isNaN(r=o[a][e]))return r;return Math.random()*i}function t(){if(!l){for(l=[],i=0;p>i;++i)l[i]=[];for(i=0;m>i;++i){var e=v[i];l[e.source.index].push(e.target),l[e.target.index].push(e.source)}}return l[n]}var n,i,l,c,p=g.length,m=v.length,b=u[0],y=u[1];for(n=0;p>n;++n)(c=g[n]).index=n,c.weight=0;for(n=0;m>n;++n)c=v[n],"number"==typeof c.source&&(c.source=g[c.source]),"number"==typeof c.target&&(c.target=g[c.target]),++c.source.weight,++c.target.weight;for(n=0;p>n;++n)c=g[n],isNaN(c.x)&&(c.x=e("x",b)),isNaN(c.y)&&(c.y=e("y",y)),isNaN(c.px)&&(c.px=c.x),isNaN(c.py)&&(c.py=c.y);if(r=[],"function"==typeof d)for(n=0;m>n;++n)r[n]=+d.call(this,v[n],n);else for(n=0;m>n;++n)r[n]=d;if(o=[],"function"==typeof h)for(n=0;m>n;++n)o[n]=+h.call(this,v[n],n);else for(n=0;m>n;++n)o[n]=h;if(a=[],"function"==typeof f)for(n=0;p>n;++n)a[n]=+f.call(this,g[n],n);else for(n=0;p>n;++n)a[n]=f;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return n||(n=sa.behavior.drag().origin(ct).on("dragstart.force",Ui).on("drag.force",t).on("dragend.force",$i)),arguments.length?(this.on("mouseover.force",Vi).on("mouseout.force",Xi).call(n),void 0):n},sa.rebind(s,l,"on")};var $s=20,Vs=1;sa.layout.hierarchy=function(){function e(t,a,s){var l=r.call(n,t,a);if(t.depth=a,s.push(t),l&&(u=l.length)){for(var u,c,d=-1,h=t.children=[],f=0,p=a+1;u>++d;)c=e(l[d],p,s),c.parent=t,h.push(c),f+=c.value;i&&h.sort(i),o&&(t.value=f)}else o&&(t.value=+o.call(n,t,a)||0);return t}function t(e,i){var r=e.children,a=0;if(r&&(s=r.length))for(var s,l=-1,u=i+1;s>++l;)a+=t(r[l],u);else o&&(a=+o.call(n,e,i)||0);return o&&(e.value=a),a}function n(t){var n=[];return e(t,0,n),n}var i=Zi,r=Yi,o=Qi;return n.sort=function(e){return arguments.length?(i=e,n):i},n.children=function(e){return arguments.length?(r=e,n):r},n.value=function(e){return arguments.length?(o=e,n):o},n.revalue=function(e){return t(e,0),e},n},sa.layout.partition=function(){function e(t,n,i,r){var o=t.children;if(t.x=n,t.y=t.depth*r,t.dx=i,t.dy=r,o&&(a=o.length)){var a,s,l,u=-1;for(i=t.value?i/t.value:0;a>++u;)e(s=o[u],n,l=s.value*i,r),n+=l}}function t(e){var n=e.children,i=0;if(n&&(r=n.length))for(var r,o=-1;r>++o;)i=Math.max(i,t(n[o]));return 1+i}function n(n,o){var a=i.call(this,n,o);return e(a[0],0,r[0],r[1]/t(a[0])),a}var i=sa.layout.hierarchy(),r=[1,1];return n.size=function(e){return arguments.length?(r=e,n):r},Ki(n,i)},sa.layout.pie=function(){function e(o){var a=o.map(function(n,i){return+t.call(e,n,i)}),s=+("function"==typeof i?i.apply(this,arguments):i),l=(("function"==typeof r?r.apply(this,arguments):r)-s)/sa.sum(a),u=sa.range(o.length);null!=n&&u.sort(n===Xs?function(e,t){return a[t]-a[e]}:function(e,t){return n(o[e],o[t])});var c=[];return u.forEach(function(e){var t;c[e]={data:o[e],value:t=a[e],startAngle:s,endAngle:s+=t*l}}),c}var t=Number,n=Xs,i=0,r=2*La;return e.value=function(n){return arguments.length?(t=n,e):t},e.sort=function(t){return arguments.length?(n=t,e):n},e.startAngle=function(t){return arguments.length?(i=t,e):i},e.endAngle=function(t){return arguments.length?(r=t,e):r},e};var Xs={};sa.layout.stack=function(){function e(s,l){var u=s.map(function(n,i){return t.call(e,n,i)}),c=u.map(function(t){return t.map(function(t,n){return[o.call(e,t,n),a.call(e,t,n)]})}),d=n.call(e,c,l);u=sa.permute(u,d),c=sa.permute(c,d);var h,f,p,m=i.call(e,c,l),g=u.length,v=u[0].length;for(f=0;v>f;++f)for(r.call(e,u[0][f],p=m[f],c[0][f][1]),h=1;g>h;++h)r.call(e,u[h][f],p+=c[h-1][f][1],c[h][f][1]);return s}var t=ct,n=ir,i=rr,r=nr,o=er,a=tr;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(n="function"==typeof t?t:Gs.get(t)||ir,e):n},e.offset=function(t){return arguments.length?(i="function"==typeof t?t:Ks.get(t)||rr,e):i},e.x=function(t){return arguments.length?(o=t,e):o},e.y=function(t){return arguments.length?(a=t,e):a},e.out=function(t){return arguments.length?(r=t,e):r},e};var Gs=sa.map({"inside-out":function(e){var t,n,i=e.length,r=e.map(or),o=e.map(ar),a=sa.range(i).sort(function(e,t){return r[e]-r[t]}),s=0,l=0,u=[],c=[];for(t=0;i>t;++t)n=a[t],l>s?(s+=o[n],u.push(n)):(l+=o[n],c.push(n));return c.reverse().concat(u)},reverse:function(e){return sa.range(e.length).reverse()},"default":ir}),Ks=sa.map({silhouette:function(e){var t,n,i,r=e.length,o=e[0].length,a=[],s=0,l=[];for(n=0;o>n;++n){for(t=0,i=0;r>t;t++)i+=e[t][n][1];i>s&&(s=i),a.push(i)}for(n=0;o>n;++n)l[n]=(s-a[n])/2;return l},wiggle:function(e){var t,n,i,r,o,a,s,l,u,c=e.length,d=e[0],h=d.length,f=[];for(f[0]=l=u=0,n=1;h>n;++n){for(t=0,r=0;c>t;++t)r+=e[t][n][1];for(t=0,o=0,s=d[n][0]-d[n-1][0];c>t;++t){for(i=0,a=(e[t][n][1]-e[t][n-1][1])/(2*s);t>i;++i)a+=(e[i][n][1]-e[i][n-1][1])/s;o+=a*e[t][n][1]}f[n]=l-=r?o/r*s:0,u>l&&(u=l)}for(n=0;h>n;++n)f[n]-=u;return f},expand:function(e){var t,n,i,r=e.length,o=e[0].length,a=1/r,s=[];for(n=0;o>n;++n){for(t=0,i=0;r>t;t++)i+=e[t][n][1];if(i)for(t=0;r>t;t++)e[t][n][1]/=i;else for(t=0;r>t;t++)e[t][n][1]=a}for(n=0;o>n;++n)s[n]=0;return s},zero:rr});sa.layout.histogram=function(){function e(e,o){for(var a,s,l=[],u=e.map(n,this),c=i.call(this,u,o),d=r.call(this,c,u,o),o=-1,h=u.length,f=d.length-1,p=t?1:1/h;f>++o;)a=l[o]=[],a.dx=d[o+1]-(a.x=d[o]),a.y=0;if(f>0)for(o=-1;h>++o;)s=u[o],s>=c[0]&&c[1]>=s&&(a=l[sa.bisect(d,s,1,f)-1],a.y+=p,a.push(e[o]));return l}var t=!0,n=Number,i=cr,r=lr;return e.value=function(t){return arguments.length?(n=t,e):n},e.range=function(t){return arguments.length?(i=ut(t),e):i},e.bins=function(t){return arguments.length?(r="number"==typeof t?function(e){return ur(e,t)}:ut(t),e):r},e.frequency=function(n){return arguments.length?(t=!!n,e):t},e},sa.layout.tree=function(){function e(e,r){function o(e,t){var i=e.children,r=e._tree;if(i&&(a=i.length)){for(var a,l,u,c=i[0],d=c,h=-1;a>++h;)u=i[h],o(u,l),d=s(u,l,d),l=u;yr(e);var f=.5*(c._tree.prelim+u._tree.prelim);t?(r.prelim=t._tree.prelim+n(e,t),r.mod=r.prelim-f):r.prelim=f}else t&&(r.prelim=t._tree.prelim+n(e,t))}function a(e,t){e.x=e._tree.prelim+t;var n=e.children;if(n&&(i=n.length)){var i,r=-1;for(t+=e._tree.mod;i>++r;)a(n[r],t)}}function s(e,t,i){if(t){for(var r,o=e,a=e,s=t,l=e.parent.children[0],u=o._tree.mod,c=a._tree.mod,d=s._tree.mod,h=l._tree.mod;s=fr(s),o=hr(o),s&&o;)l=hr(l),a=fr(a),a._tree.ancestor=e,r=s._tree.prelim+d-o._tree.prelim-u+n(s,o),r>0&&(xr(wr(s,e,i),e,r),u+=r,c+=r),d+=s._tree.mod,u+=o._tree.mod,h+=l._tree.mod,c+=a._tree.mod;s&&!fr(a)&&(a._tree.thread=s,a._tree.mod+=d-c),o&&!hr(l)&&(l._tree.thread=o,l._tree.mod+=u-h,i=e)}return i}var l=t.call(this,e,r),u=l[0];br(u,function(e,t){e._tree={ancestor:e,prelim:0,mod:0,change:0,shift:0,number:t?t._tree.number+1:0}}),o(u),a(u,-u._tree.prelim);var c=pr(u,gr),d=pr(u,mr),h=pr(u,vr),f=c.x-n(c,d)/2,p=d.x+n(d,c)/2,m=h.depth||1;return br(u,function(e){e.x=(e.x-f)/(p-f)*i[0],e.y=e.depth/m*i[1],delete e._tree}),l}var t=sa.layout.hierarchy().sort(null).value(null),n=dr,i=[1,1];return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(i=t,e):i},Ki(e,t)},sa.layout.pack=function(){function e(e,r){var o=t.call(this,e,r),a=o[0];a.x=0,a.y=0,br(a,function(e){e.r=Math.sqrt(e.value)}),br(a,Er);var s=i[0],l=i[1],u=Math.max(2*a.r/s,2*a.r/l);if(n>0){var c=n*u/2;br(a,function(e){e.r+=c}),br(a,Er),br(a,function(e){e.r-=c}),u=Math.max(2*a.r/s,2*a.r/l)}return Sr(a,s/2,l/2,1/u),o}var t=sa.layout.hierarchy().sort(_r),n=0,i=[1,1];return e.size=function(t){return arguments.length?(i=t,e):i},e.padding=function(t){return arguments.length?(n=+t,e):n},Ki(e,t)},sa.layout.cluster=function(){function e(e,r){var o,a=t.call(this,e,r),s=a[0],l=0;br(s,function(e){var t=e.children;t&&t.length?(e.x=Pr(t),e.y=Nr(t)):(e.x=o?l+=n(e,o):0,e.y=0,o=e)});var u=Ar(s),c=qr(s),d=u.x-n(u,c)/2,h=c.x+n(c,u)/2;return br(s,function(e){e.x=(e.x-d)/(h-d)*i[0],e.y=(1-(s.y?e.y/s.y:1))*i[1]}),a}var t=sa.layout.hierarchy().sort(null).value(null),n=dr,i=[1,1];return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(i=t,e):i},Ki(e,t)},sa.layout.treemap=function(){function e(e,t){for(var n,i,r=-1,o=e.length;o>++r;)i=(n=e[r]).value*(0>t?0:t),n.area=isNaN(i)||0>=i?0:i}function t(n){var o=n.children;if(o&&o.length){var a,s,l,u=d(n),c=[],h=o.slice(),p=1/0,m="slice"===f?u.dx:"dice"===f?u.dy:"slice-dice"===f?1&n.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(e(h,u.dx*u.dy/n.value),c.area=0;(l=h.length)>0;)c.push(a=h[l-1]),c.area+=a.area,"squarify"!==f||p>=(s=i(c,m))?(h.pop(),p=s):(c.area-=c.pop().area,r(c,m,u,!1),m=Math.min(u.dx,u.dy),c.length=c.area=0,p=1/0);c.length&&(r(c,m,u,!0),c.length=c.area=0),o.forEach(t)}}function n(t){var i=t.children;if(i&&i.length){var o,a=d(t),s=i.slice(),l=[];for(e(s,a.dx*a.dy/t.value),l.area=0;o=s.pop();)l.push(o),l.area+=o.area,null!=o.z&&(r(l,o.z?a.dx:a.dy,a,!s.length),l.length=l.area=0);i.forEach(n)}}function i(e,t){for(var n,i=e.area,r=0,o=1/0,a=-1,s=e.length;s>++a;)(n=e[a].area)&&(o>n&&(o=n),n>r&&(r=n));return i*=i,t*=t,i?Math.max(t*r*p/i,i/(t*o*p)):1/0}function r(e,t,n,i){var r,o=-1,a=e.length,s=n.x,u=n.y,c=t?l(e.area/t):0;if(t==n.dx){for((i||c>n.dy)&&(c=n.dy);a>++o;)r=e[o],r.x=s,r.y=u,r.dy=c,s+=r.dx=Math.min(n.x+n.dx-s,c?l(r.area/c):0);r.z=!0,r.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((i||c>n.dx)&&(c=n.dx);a>++o;)r=e[o],r.x=s,r.y=u,r.dx=c,u+=r.dy=Math.min(n.y+n.dy-u,c?l(r.area/c):0);r.z=!1,r.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function o(i){var r=a||s(i),o=r[0];return o.x=0,o.y=0,o.dx=u[0],o.dy=u[1],a&&s.revalue(o),e([o],o.dx*o.dy/o.value),(a?n:t)(o),h&&(a=r),r}var a,s=sa.layout.hierarchy(),l=Math.round,u=[1,1],c=null,d=Lr,h=!1,f="squarify",p=.5*(1+Math.sqrt(5));return o.size=function(e){return arguments.length?(u=e,o):u},o.padding=function(e){function t(t){var n=e.call(o,t,t.depth);return null==n?Lr(t):Hr(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return Hr(t,e)}if(!arguments.length)return c;var i;return d=null==(c=e)?Lr:"function"==(i=typeof e)?t:"number"===i?(e=[e,e,e,e],n):n,o},o.round=function(e){return arguments.length?(l=e?Math.round:Number,o):l!=Number},o.sticky=function(e){return arguments.length?(h=e,a=null,o):h},o.ratio=function(e){return arguments.length?(p=e,o):p},o.mode=function(e){return arguments.length?(f=e+"",o):f},Ki(o,s)},sa.random={normal:function(e,t){var n=arguments.length;return 2>n&&(t=1),1>n&&(e=0),function(){var n,i,r;do n=2*Math.random()-1,i=2*Math.random()-1,r=n*n+i*i;while(!r||r>1);return e+t*n*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var e=sa.random.normal.apply(sa,arguments);return function(){return Math.exp(e())}},irwinHall:function(e){return function(){for(var t=0,n=0;e>n;n++)t+=Math.random();return t/e}}},sa.scale={},sa.scale.linear=function(){return zr([0,1],[0,1],yi,!1)},sa.scale.log=function(){return Gr(sa.scale.linear().domain([0,Math.LN10]),10,Kr,Yr,[1,10])};var Ys=sa.format(".0e");sa.scale.pow=function(){return Jr(sa.scale.linear(),1,[0,1])},sa.scale.sqrt=function(){return sa.scale.pow().exponent(.5)},sa.scale.ordinal=function(){return to([],{t:"range",a:[[]]})},sa.scale.category10=function(){return sa.scale.ordinal().range(Qs)},sa.scale.category20=function(){return sa.scale.ordinal().range(Zs)},sa.scale.category20b=function(){return sa.scale.ordinal().range(Js)},sa.scale.category20c=function(){return sa.scale.ordinal().range(el)};var Qs=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],Zs=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],Js=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],el=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];sa.scale.quantile=function(){return no([],[])},sa.scale.quantize=function(){return io(0,1,[0,1])},sa.scale.threshold=function(){return ro([.5],[0,1])},sa.scale.identity=function(){return oo([0,1])},sa.svg.arc=function(){function e(){var e=t.apply(this,arguments),o=n.apply(this,arguments),a=i.apply(this,arguments)+tl,s=r.apply(this,arguments)+tl,l=(a>s&&(l=a,a=s,s=l),s-a),u=La>l?"0":"1",c=Math.cos(a),d=Math.sin(a),h=Math.cos(s),f=Math.sin(s);return l>=nl?e?"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"M0,"+e+"A"+e+","+e+" 0 1,0 0,"+-e+"A"+e+","+e+" 0 1,0 0,"+e+"Z":"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"Z":e?"M"+o*c+","+o*d+"A"+o+","+o+" 0 "+u+",1 "+o*h+","+o*f+"L"+e*h+","+e*f+"A"+e+","+e+" 0 "+u+",0 "+e*c+","+e*d+"Z":"M"+o*c+","+o*d+"A"+o+","+o+" 0 "+u+",1 "+o*h+","+o*f+"L0,0"+"Z"}var t=ao,n=so,i=lo,r=uo;return e.innerRadius=function(n){return arguments.length?(t=ut(n),e):t},e.outerRadius=function(t){return arguments.length?(n=ut(t),e):n},e.startAngle=function(t){return arguments.length?(i=ut(t),e):i},e.endAngle=function(t){return arguments.length?(r=ut(t),e):r},e.centroid=function(){var e=(t.apply(this,arguments)+n.apply(this,arguments))/2,o=(i.apply(this,arguments)+r.apply(this,arguments))/2+tl;return[Math.cos(o)*e,Math.sin(o)*e]},e};var tl=-La/2,nl=2*La-1e-6;sa.svg.line.radial=function(){var e=qn(co);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},In.reverse=Bn,Bn.reverse=In,sa.svg.area=function(){return ho(ct)},sa.svg.area.radial=function(){var e=ho(co);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},sa.svg.chord=function(){function e(e,s){var l=t(this,o,e,s),u=t(this,a,e,s);return"M"+l.p0+i(l.r,l.p1,l.a1-l.a0)+(n(l,u)?r(l.r,l.p1,l.r,l.p0):r(l.r,l.p1,u.r,u.p0)+i(u.r,u.p1,u.a1-u.a0)+r(u.r,u.p1,l.r,l.p0))+"Z"}function t(e,t,n,i){var r=t.call(e,n,i),o=s.call(e,r,i),a=l.call(e,r,i)+tl,c=u.call(e,r,i)+tl;return{r:o,a0:a,a1:c,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(c),o*Math.sin(c)]}}function n(e,t){return e.a0==t.a0&&e.a1==t.a1}function i(e,t,n){return"A"+e+","+e+" 0 "+ +(n>La)+",1 "+t}function r(e,t,n,i){return"Q 0,0 "+i}var o=hn,a=fn,s=fo,l=lo,u=uo;return e.radius=function(t){return arguments.length?(s=ut(t),e):s},e.source=function(t){return arguments.length?(o=ut(t),e):o},e.target=function(t){return arguments.length?(a=ut(t),e):a},e.startAngle=function(t){return arguments.length?(l=ut(t),e):l},e.endAngle=function(t){return arguments.length?(u=ut(t),e):u},e},sa.svg.diagonal=function(){function e(e,r){var o=t.call(this,e,r),a=n.call(this,e,r),s=(o.y+a.y)/2,l=[o,{x:o.x,y:s},{x:a.x,y:s},a];return l=l.map(i),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var t=hn,n=fn,i=po;return e.source=function(n){return arguments.length?(t=ut(n),e):t},e.target=function(t){return arguments.length?(n=ut(t),e):n},e.projection=function(t){return arguments.length?(i=t,e):i},e},sa.svg.diagonal.radial=function(){var e=sa.svg.diagonal(),t=po,n=e.projection;return e.projection=function(e){return arguments.length?n(mo(t=e)):t},e},sa.svg.symbol=function(){function e(e,i){return(il.get(t.call(this,e,i))||bo)(n.call(this,e,i))}var t=vo,n=go;return e.type=function(n){return arguments.length?(t=ut(n),e):t},e.size=function(t){return arguments.length?(n=ut(t),e):n},e};var il=sa.map({circle:bo,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*al)),n=t*al;return"M0,"+-t+"L"+n+",0"+" 0,"+t+" "+-n+",0"+"Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/ol),n=t*ol/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/ol),n=t*ol/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});sa.svg.symbolTypes=il.keys();var rl,ol=Math.sqrt(3),al=Math.tan(30*Oa),sl=[],ll=0,ul={ease:Di,delay:0,duration:250};sl.call=ka.call,sl.empty=ka.empty,sl.node=ka.node,sa.transition=function(e){return arguments.length?rl?e.transition():e:ja.transition()},sa.transition.prototype=sl,sl.select=function(e){var t,n,i,r=this.id,o=[];"function"!=typeof e&&(e=v(e));for(var a=-1,s=this.length;s>++a;){o.push(t=[]);for(var l=this[a],u=-1,c=l.length;c>++u;)(i=l[u])&&(n=e.call(i,i.__data__,u))?("__data__"in i&&(n.__data__=i.__data__),_o(n,u,r,i.__transition__[r]),t.push(n)):t.push(null)}return yo(o,r)},sl.selectAll=function(e){var t,n,i,r,o,a=this.id,s=[];"function"!=typeof e&&(e=b(e));for(var l=-1,u=this.length;u>++l;)for(var c=this[l],d=-1,h=c.length;h>++d;)if(i=c[d]){o=i.__transition__[a],n=e.call(i,i.__data__,d),s.push(t=[]);for(var f=-1,p=n.length;p>++f;)_o(r=n[f],f,a,o),t.push(r)}return yo(s,a)},sl.filter=function(e){var t,n,i,r=[];"function"!=typeof e&&(e=D(e));for(var o=0,a=this.length;a>o;o++){r.push(t=[]);for(var n=this[o],s=0,l=n.length;l>s;s++)(i=n[s])&&e.call(i,i.__data__,s)&&t.push(i)}return yo(r,this.id,this.time).ease(this.ease())},sl.tween=function(e,t){var n=this.id;return 2>arguments.length?this.node().__transition__[n].tween.get(e):A(this,null==t?function(t){t.__transition__[n].tween.remove(e)}:function(i){i.__transition__[n].tween.set(e,t)})},sl.attr=function(e,t){function n(){this.removeAttribute(s)}function i(){this.removeAttributeNS(s.space,s.local)}function r(e){return null==e?n:(e+="",function(){var t,n=this.getAttribute(s);return n!==e&&(t=a(n,e),function(e){this.setAttribute(s,t(e))})})}function o(e){return null==e?i:(e+="",function(){var t,n=this.getAttributeNS(s.space,s.local);return n!==e&&(t=a(n,e),function(e){this.setAttributeNS(s.space,s.local,t(e))})})}if(2>arguments.length){for(t in e)this.attr(t,e[t]);return this}var a=xi(e),s=sa.ns.qualify(e);return xo(this,"attr."+e,t,s.local?o:r)},sl.attrTween=function(e,t){function n(e,n){var i=t.call(this,e,n,this.getAttribute(r));return i&&function(e){this.setAttribute(r,i(e))}}function i(e,n){var i=t.call(this,e,n,this.getAttributeNS(r.space,r.local));return i&&function(e){this.setAttributeNS(r.space,r.local,i(e))}}var r=sa.ns.qualify(e);return this.tween("attr."+e,r.local?i:n)},sl.style=function(e,t,n){function i(){this.style.removeProperty(e)}function r(t){return null==t?i:(t+="",function(){var i,r=ua.getComputedStyle(this,null).getPropertyValue(e);return r!==t&&(i=a(r,t),function(t){this.style.setProperty(e,i(t),n)})})}var o=arguments.length;if(3>o){if("string"!=typeof e){2>o&&(t="");for(n in e)this.style(n,e[n],t);return this}n=""}var a=xi(e);return xo(this,"style."+e,t,r)},sl.styleTween=function(e,t,n){function i(i,r){var o=t.call(this,i,r,ua.getComputedStyle(this,null).getPropertyValue(e));return o&&function(t){this.style.setProperty(e,o(t),n)}}return 3>arguments.length&&(n=""),this.tween("style."+e,i)},sl.text=function(e){return xo(this,"text",e,wo)},sl.remove=function(){return this.each("end.transition",function(){var e;!this.__transition__&&(e=this.parentNode)&&e.removeChild(this)})},sl.ease=function(e){var t=this.id;return 1>arguments.length?this.node().__transition__[t].ease:("function"!=typeof e&&(e=sa.ease.apply(sa,arguments)),A(this,function(n){n.__transition__[t].ease=e}))},sl.delay=function(e){var t=this.id;return A(this,"function"==typeof e?function(n,i,r){n.__transition__[t].delay=0|e.call(n,n.__data__,i,r)}:(e|=0,function(n){n.__transition__[t].delay=e}))},sl.duration=function(e){var t=this.id;return A(this,"function"==typeof e?function(n,i,r){n.__transition__[t].duration=Math.max(1,0|e.call(n,n.__data__,i,r))}:(e=Math.max(1,0|e),function(n){n.__transition__[t].duration=e}))},sl.each=function(e,t){var n=this.id;if(2>arguments.length){var i=ul,r=rl;rl=n,A(this,function(t,i,r){ul=t.__transition__[n],e.call(t,t.__data__,i,r)}),ul=i,rl=r}else A(this,function(i){i.__transition__[n].event.on(e,t)});return this},sl.transition=function(){for(var e,t,n,i,r=this.id,o=++ll,a=[],s=0,l=this.length;l>s;s++){a.push(e=[]);for(var t=this[s],u=0,c=t.length;c>u;u++)(n=t[u])&&(i=Object.create(n.__transition__[r]),i.delay+=i.duration,_o(n,u,o,i)),e.push(n)}return yo(a,o)},sa.svg.axis=function(){function e(e){e.each(function(){var e,d=sa.select(this),h=null==u?n.ticks?n.ticks.apply(n,l):n.domain():u,f=null==t?n.tickFormat?n.tickFormat.apply(n,l):String:t,p=ko(n,h,c),m=d.selectAll(".tick.minor").data(p,String),g=m.enter().insert("line",".tick").attr("class","tick minor").style("opacity",1e-6),v=sa.transition(m.exit()).style("opacity",1e-6).remove(),b=sa.transition(m).style("opacity",1),y=d.selectAll(".tick.major").data(h,String),x=y.enter().insert("g","path").attr("class","tick major").style("opacity",1e-6),w=sa.transition(y.exit()).style("opacity",1e-6).remove(),_=sa.transition(y).style("opacity",1),C=Fr(n),T=d.selectAll(".domain").data([0]),k=(T.enter().append("path").attr("class","domain"),sa.transition(T)),E=n.copy(),D=this.__chart__||E;this.__chart__=E,x.append("line"),x.append("text");var M=x.select("line"),S=_.select("line"),j=y.select("text").text(f),N=x.select("text"),P=_.select("text");switch(i){case"bottom":e=Co,g.attr("y2",o),b.attr("x2",0).attr("y2",o),M.attr("y2",r),N.attr("y",Math.max(r,0)+s),S.attr("x2",0).attr("y2",r),P.attr("x",0).attr("y",Math.max(r,0)+s),j.attr("dy",".71em").style("text-anchor","middle"),k.attr("d","M"+C[0]+","+a+"V0H"+C[1]+"V"+a);break;case"top":e=Co,g.attr("y2",-o),b.attr("x2",0).attr("y2",-o),M.attr("y2",-r),N.attr("y",-(Math.max(r,0)+s)),S.attr("x2",0).attr("y2",-r),P.attr("x",0).attr("y",-(Math.max(r,0)+s)),j.attr("dy","0em").style("text-anchor","middle"),k.attr("d","M"+C[0]+","+-a+"V0H"+C[1]+"V"+-a);break;case"left":e=To,g.attr("x2",-o),b.attr("x2",-o).attr("y2",0),M.attr("x2",-r),N.attr("x",-(Math.max(r,0)+s)),S.attr("x2",-r).attr("y2",0),P.attr("x",-(Math.max(r,0)+s)).attr("y",0),j.attr("dy",".32em").style("text-anchor","end"),k.attr("d","M"+-a+","+C[0]+"H0V"+C[1]+"H"+-a);break;case"right":e=To,g.attr("x2",o),b.attr("x2",o).attr("y2",0),M.attr("x2",r),N.attr("x",Math.max(r,0)+s),S.attr("x2",r).attr("y2",0),P.attr("x",Math.max(r,0)+s).attr("y",0),j.attr("dy",".32em").style("text-anchor","start"),k.attr("d","M"+a+","+C[0]+"H0V"+C[1]+"H"+a)}if(n.ticks)x.call(e,D),_.call(e,E),w.call(e,E),g.call(e,D),b.call(e,E),v.call(e,E);else{var A=E.rangeBand()/2,q=function(e){return E(e)+A};x.call(e,q),_.call(e,q)}})}var t,n=sa.scale.linear(),i=cl,r=6,o=6,a=6,s=3,l=[10],u=null,c=0;return e.scale=function(t){return arguments.length?(n=t,e):n},e.orient=function(t){return arguments.length?(i=t in dl?t+"":cl,e):i},e.ticks=function(){return arguments.length?(l=arguments,e):l},e.tickValues=function(t){return arguments.length?(u=t,e):u},e.tickFormat=function(n){return arguments.length?(t=n,e):t},e.tickSize=function(t,n){if(!arguments.length)return r;var i=arguments.length-1;return r=+t,o=i>1?+n:r,a=i>0?+arguments[i]:r,e},e.tickPadding=function(t){return arguments.length?(s=+t,e):s},e.tickSubdivide=function(t){return arguments.length?(c=+t,e):c},e};var cl="bottom",dl={top:1,right:1,bottom:1,left:1};sa.svg.brush=function(){function e(o){o.each(function(){var o,a=sa.select(this),u=a.selectAll(".background").data([0]),d=a.selectAll(".extent").data([0]),h=a.selectAll(".resize").data(c,String);a.style("pointer-events","all").on("mousedown.brush",r).on("touchstart.brush",r),u.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),d.enter().append("rect").attr("class","extent").style("cursor","move"),h.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return hl[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),h.style("display",e.empty()?"none":null),h.exit().remove(),s&&(o=Fr(s),u.attr("x",o[0]).attr("width",o[1]-o[0]),n(a)),l&&(o=Fr(l),u.attr("y",o[0]).attr("height",o[1]-o[0]),i(a)),t(a)})}function t(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+d[+/e$/.test(e)][0]+","+d[+/^s/.test(e)][1]+")"})}function n(e){e.select(".extent").attr("x",d[0][0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",d[1][0]-d[0][0])}function i(e){e.select(".extent").attr("y",d[0][1]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",d[1][1]-d[0][1])}function r(){function r(){var e=sa.event.changedTouches;
return e?sa.touches(b,e)[0]:sa.mouse(b)}function c(){32==sa.event.keyCode&&(k||(g=null,E[0]-=d[1][0],E[1]-=d[1][1],k=2),u())}function h(){32==sa.event.keyCode&&2==k&&(E[0]+=d[1][0],E[1]+=d[1][1],k=0,u())}function f(){var e=r(),o=!1;v&&(e[0]+=v[0],e[1]+=v[1]),k||(sa.event.altKey?(g||(g=[(d[0][0]+d[1][0])/2,(d[0][1]+d[1][1])/2]),E[0]=d[+(e[0]<g[0])][0],E[1]=d[+(e[1]<g[1])][1]):g=null),C&&p(e,s,0)&&(n(w),o=!0),T&&p(e,l,1)&&(i(w),o=!0),o&&(t(w),x({type:"brush",mode:k?"move":"resize"}))}function p(e,t,n){var i,r,a=Fr(t),s=a[0],l=a[1],u=E[n],c=d[1][n]-d[0][n];return k&&(s-=u,l-=c+u),i=Math.max(s,Math.min(l,e[n])),k?r=(i+=u)+c:(g&&(u=Math.max(s,Math.min(l,2*g[n]-i))),i>u?(r=i,i=u):r=u),d[0][n]!==i||d[1][n]!==r?(o=null,d[0][n]=i,d[1][n]=r,!0):void 0}function m(){f(),w.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),sa.select("body").style("cursor",null),D.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),x({type:"brushend"}),u()}var g,v,b=this,y=sa.select(sa.event.target),x=a.of(b,arguments),w=sa.select(b),_=y.datum(),C=!/^(n|s)$/.test(_)&&s,T=!/^(e|w)$/.test(_)&&l,k=y.classed("extent"),E=r(),D=sa.select(ua).on("mousemove.brush",f).on("mouseup.brush",m).on("touchmove.brush",f).on("touchend.brush",m).on("keydown.brush",c).on("keyup.brush",h);if(k)E[0]=d[0][0]-E[0],E[1]=d[0][1]-E[1];else if(_){var M=+/w$/.test(_),S=+/^n/.test(_);v=[d[1-M][0]-E[0],d[1-S][1]-E[1]],E[0]=d[M][0],E[1]=d[S][1]}else sa.event.altKey&&(g=E.slice());w.style("pointer-events","none").selectAll(".resize").style("display",null),sa.select("body").style("cursor",y.style("cursor")),x({type:"brushstart"}),f(),u()}var o,a=h(e,"brushstart","brush","brushend"),s=null,l=null,c=fl[0],d=[[0,0],[0,0]];return e.x=function(t){return arguments.length?(s=t,c=fl[!s<<1|!l],e):s},e.y=function(t){return arguments.length?(l=t,c=fl[!s<<1|!l],e):l},e.extent=function(t){var n,i,r,a,u;return arguments.length?(o=[[0,0],[0,0]],s&&(n=t[0],i=t[1],l&&(n=n[0],i=i[0]),o[0][0]=n,o[1][0]=i,s.invert&&(n=s(n),i=s(i)),n>i&&(u=n,n=i,i=u),d[0][0]=0|n,d[1][0]=0|i),l&&(r=t[0],a=t[1],s&&(r=r[1],a=a[1]),o[0][1]=r,o[1][1]=a,l.invert&&(r=l(r),a=l(a)),r>a&&(u=r,r=a,a=u),d[0][1]=0|r,d[1][1]=0|a),e):(t=o||d,s&&(n=t[0][0],i=t[1][0],o||(n=d[0][0],i=d[1][0],s.invert&&(n=s.invert(n),i=s.invert(i)),n>i&&(u=n,n=i,i=u))),l&&(r=t[0][1],a=t[1][1],o||(r=d[0][1],a=d[1][1],l.invert&&(r=l.invert(r),a=l.invert(a)),r>a&&(u=r,r=a,a=u))),s&&l?[[n,r],[i,a]]:s?[n,i]:l&&[r,a])},e.clear=function(){return o=null,d[0][0]=d[0][1]=d[1][0]=d[1][1]=0,e},e.empty=function(){return s&&d[0][0]===d[1][0]||l&&d[0][1]===d[1][1]},sa.rebind(e,a,"on")};var hl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},fl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];sa.time={};var pl=Date,ml=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];Eo.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){gl.setUTCDate.apply(this._,arguments)},setDay:function(){gl.setUTCDay.apply(this._,arguments)},setFullYear:function(){gl.setUTCFullYear.apply(this._,arguments)},setHours:function(){gl.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){gl.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){gl.setUTCMinutes.apply(this._,arguments)},setMonth:function(){gl.setUTCMonth.apply(this._,arguments)},setSeconds:function(){gl.setUTCSeconds.apply(this._,arguments)},setTime:function(){gl.setTime.apply(this._,arguments)}};var gl=Date.prototype,vl="%a %b %e %X %Y",bl="%m/%d/%Y",yl="%H:%M:%S",xl=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],wl=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],_l=["January","February","March","April","May","June","July","August","September","October","November","December"],Cl=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];sa.time.year=Do(function(e){return e=sa.time.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),sa.time.years=sa.time.year.range,sa.time.years.utc=sa.time.year.utc.range,sa.time.day=Do(function(e){var t=new pl(1970,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),sa.time.days=sa.time.day.range,sa.time.days.utc=sa.time.day.utc.range,sa.time.dayOfYear=function(e){var t=sa.time.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},ml.forEach(function(e,t){e=e.toLowerCase(),t=7-t;var n=sa.time[e]=Do(function(e){return(e=sa.time.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=sa.time.year(e).getDay();return Math.floor((sa.time.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});sa.time[e+"s"]=n.range,sa.time[e+"s"].utc=n.utc.range,sa.time[e+"OfYear"]=function(e){var n=sa.time.year(e).getDay();return Math.floor((sa.time.dayOfYear(e)+(n+t)%7)/7)}}),sa.time.week=sa.time.sunday,sa.time.weeks=sa.time.sunday.range,sa.time.weeks.utc=sa.time.sunday.utc.range,sa.time.weekOfYear=sa.time.sundayOfYear,sa.time.format=function(e){function t(t){for(var i,r,o,a=[],s=-1,l=0;n>++s;)37===e.charCodeAt(s)&&(a.push(e.substring(l,s)),null!=(r=jl[i=e.charAt(++s)])&&(i=e.charAt(++s)),(o=Nl[i])&&(i=o(t,null==r?"e"===i?" ":"0":r)),a.push(i),l=s+1);return a.push(e.substring(l,s)),a.join("")}var n=e.length;return t.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0},i=So(n,e,t,0);if(i!=t.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var r=new pl;return r.setFullYear(n.y,n.m,n.d),r.setHours(n.H,n.M,n.S,n.L),r},t.toString=function(){return e},t};var Tl=jo(xl),kl=jo(wl),El=jo(_l),Dl=No(_l),Ml=jo(Cl),Sl=No(Cl),jl={"-":"",_:" ",0:"0"},Nl={a:function(e){return wl[e.getDay()]},A:function(e){return xl[e.getDay()]},b:function(e){return Cl[e.getMonth()]},B:function(e){return _l[e.getMonth()]},c:sa.time.format(vl),d:function(e,t){return Po(e.getDate(),t,2)},e:function(e,t){return Po(e.getDate(),t,2)},H:function(e,t){return Po(e.getHours(),t,2)},I:function(e,t){return Po(e.getHours()%12||12,t,2)},j:function(e,t){return Po(1+sa.time.dayOfYear(e),t,3)},L:function(e,t){return Po(e.getMilliseconds(),t,3)},m:function(e,t){return Po(e.getMonth()+1,t,2)},M:function(e,t){return Po(e.getMinutes(),t,2)},p:function(e){return e.getHours()>=12?"PM":"AM"},S:function(e,t){return Po(e.getSeconds(),t,2)},U:function(e,t){return Po(sa.time.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Po(sa.time.mondayOfYear(e),t,2)},x:sa.time.format(bl),X:sa.time.format(yl),y:function(e,t){return Po(e.getFullYear()%100,t,2)},Y:function(e,t){return Po(e.getFullYear()%1e4,t,4)},Z:Yo,"%":function(){return"%"}},Pl={a:Ao,A:qo,b:Lo,B:Ho,c:Oo,d:Uo,e:Uo,H:$o,I:$o,L:Go,m:Wo,M:Vo,p:Ko,S:Xo,x:Fo,X:Io,y:Ro,Y:Bo},Al=/^\s*\d+/,ql=sa.map({am:0,pm:1});sa.time.format.utc=function(e){function t(e){try{pl=Eo;var t=new pl;return t._=e,n(t)}finally{pl=Date}}var n=sa.time.format(e);return t.parse=function(e){try{pl=Eo;var t=n.parse(e);return t&&t._}finally{pl=Date}},t.toString=n.toString,t};var Ll=sa.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");sa.time.format.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Qo:Ll,Qo.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},Qo.toString=Ll.toString,sa.time.second=Do(function(e){return new pl(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),sa.time.seconds=sa.time.second.range,sa.time.seconds.utc=sa.time.second.utc.range,sa.time.minute=Do(function(e){return new pl(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),sa.time.minutes=sa.time.minute.range,sa.time.minutes.utc=sa.time.minute.utc.range,sa.time.hour=Do(function(e){var t=e.getTimezoneOffset()/60;return new pl(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),sa.time.hours=sa.time.hour.range,sa.time.hours.utc=sa.time.hour.utc.range,sa.time.month=Do(function(e){return e=sa.time.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),sa.time.months=sa.time.month.range,sa.time.months.utc=sa.time.month.utc.range;var Hl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Ol=[[sa.time.second,1],[sa.time.second,5],[sa.time.second,15],[sa.time.second,30],[sa.time.minute,1],[sa.time.minute,5],[sa.time.minute,15],[sa.time.minute,30],[sa.time.hour,1],[sa.time.hour,3],[sa.time.hour,6],[sa.time.hour,12],[sa.time.day,1],[sa.time.day,2],[sa.time.week,1],[sa.time.month,1],[sa.time.month,3],[sa.time.year,1]],Fl=[[sa.time.format("%Y"),Ot],[sa.time.format("%B"),function(e){return e.getMonth()}],[sa.time.format("%b %d"),function(e){return 1!=e.getDate()}],[sa.time.format("%a %d"),function(e){return e.getDay()&&1!=e.getDate()}],[sa.time.format("%I %p"),function(e){return e.getHours()}],[sa.time.format("%I:%M"),function(e){return e.getMinutes()}],[sa.time.format(":%S"),function(e){return e.getSeconds()}],[sa.time.format(".%L"),function(e){return e.getMilliseconds()}]],Il=sa.scale.linear(),Bl=ea(Fl);Ol.year=function(e,t){return Il.domain(e.map(na)).ticks(t).map(ta)},sa.time.scale=function(){return Zo(sa.scale.linear(),Ol,Bl)};var Rl=Ol.map(function(e){return[e[0].utc,e[1]]}),zl=[[sa.time.format.utc("%Y"),Ot],[sa.time.format.utc("%B"),function(e){return e.getUTCMonth()}],[sa.time.format.utc("%b %d"),function(e){return 1!=e.getUTCDate()}],[sa.time.format.utc("%a %d"),function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],[sa.time.format.utc("%I %p"),function(e){return e.getUTCHours()}],[sa.time.format.utc("%I:%M"),function(e){return e.getUTCMinutes()}],[sa.time.format.utc(":%S"),function(e){return e.getUTCSeconds()}],[sa.time.format.utc(".%L"),function(e){return e.getUTCMilliseconds()}]],Wl=ea(zl);return Rl.year=function(e,t){return Il.domain(e.map(ra)).ticks(t).map(ia)},sa.time.scale.utc=function(){return Zo(sa.scale.linear(),Rl,Wl)},sa.text=dt(function(e){return e.responseText}),sa.json=function(e,t){return ht(e,"application/json",oa,t)},sa.html=function(e,t){return ht(e,"text/html",aa,t)},sa.xml=dt(function(e){return e.responseXML}),sa}(),topojson=function(){function e(e,t){function n(t){var n=e.arcs[t],i=n[0],r=[0,0];return n.forEach(function(e){r[0]+=e[0],r[1]+=e[1]}),[i,r]}var i={},r={},o={};t.forEach(function(e){var t=n(e);(i[t[0]]||(i[t[0]]=[])).push(e),(i[t[1]]||(i[t[1]]=[])).push(~e)}),t.forEach(function(e){var t,i,a=n(e),s=a[0],l=a[1];if(t=o[s])if(delete o[t.end],t.push(e),t.end=l,i=r[l]){delete r[i.start];var u=i===t?t:t.concat(i);r[u.start=t.start]=o[u.end=i.end]=u}else if(i=o[l]){delete r[i.start],delete o[i.end];var u=t.concat(i.map(function(e){return~e}).reverse());r[u.start=t.start]=o[u.end=i.start]=u}else r[t.start]=o[t.end]=t;else if(t=r[l])if(delete r[t.start],t.unshift(e),t.start=s,i=o[s]){delete o[i.end];var c=i===t?t:i.concat(t);r[c.start=i.start]=o[c.end=t.end]=c}else if(i=r[s]){delete r[i.start],delete o[i.end];var c=i.map(function(e){return~e}).reverse().concat(t);r[c.start=i.end]=o[c.end=t.end]=c}else r[t.start]=o[t.end]=t;else if(t=r[s])if(delete r[t.start],t.unshift(~e),t.start=l,i=o[l]){delete o[i.end];var c=i===t?t:i.concat(t);r[c.start=i.start]=o[c.end=t.end]=c}else if(i=r[l]){delete r[i.start],delete o[i.end];var c=i.map(function(e){return~e}).reverse().concat(t);r[c.start=i.end]=o[c.end=t.end]=c}else r[t.start]=o[t.end]=t;else if(t=o[l])if(delete o[t.end],t.push(~e),t.end=s,i=o[s]){delete r[i.start];var u=i===t?t:t.concat(i);r[u.start=t.start]=o[u.end=i.end]=u}else if(i=r[s]){delete r[i.start],delete o[i.end];var u=t.concat(i.map(function(e){return~e}).reverse());r[u.start=t.start]=o[u.end=i.start]=u}else r[t.start]=o[t.end]=t;else t=[e],r[t.start=s]=o[t.end=l]=t});var a=[];for(var s in o)a.push(o[s]);return a}function t(t,n,i){function o(e){0>e&&(e=~e),(d[e]||(d[e]=[])).push(c)}function a(e){e.forEach(o)}function s(e){e.forEach(a)}function l(e){"GeometryCollection"===e.type?e.geometries.forEach(l):e.type in h&&(c=e,h[e.type](e.arcs))}var u=[];if(arguments.length>1){var c,d=[],h={LineString:a,MultiLineString:s,Polygon:s,MultiPolygon:function(e){e.forEach(s)}};l(n),d.forEach(3>arguments.length?function(e,t){u.push(t)}:function(e,t){i(e[0],e[e.length-1])&&u.push(t)})}else for(var f=0,p=t.arcs.length;p>f;++f)u.push(f);return r(t,{type:"MultiLineString",arcs:e(t,u)})}function n(e,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return i(e,t)})}:i(e,t)}function i(e,t){var n={type:"Feature",id:t.id,properties:t.properties||{},geometry:r(e,t)};return null==t.id&&delete n.id,n}function r(e,t){function n(e,t){t.length&&t.pop();for(var n,i=p[0>e?~e:e],r=0,a=i.length,s=0,l=0;a>r;++r)t.push([(s+=(n=i[r])[0])*c+h,(l+=n[1])*d+f]);0>e&&o(t,a)}function i(e){return[e[0]*c+h,e[1]*d+f]}function r(e){for(var t=[],i=0,r=e.length;r>i;++i)n(e[i],t);return 2>t.length&&t.push(t[0]),t}function a(e){for(var t=r(e);4>t.length;)t.push(t[0]);return t}function s(e){return e.map(a)}function l(e){var t=e.type;return"GeometryCollection"===t?{type:t,geometries:e.geometries.map(l)}:t in m?{type:t,coordinates:m[t](e)}:null}var u=e.transform,c=u.scale[0],d=u.scale[1],h=u.translate[0],f=u.translate[1],p=e.arcs,m={Point:function(e){return i(e.coordinates)},MultiPoint:function(e){return e.coordinates.map(i)},LineString:function(e){return r(e.arcs)},MultiLineString:function(e){return e.arcs.map(r)},Polygon:function(e){return s(e.arcs)},MultiPolygon:function(e){return e.arcs.map(s)}};return l(t)}function o(e,t){for(var n,i=e.length,r=i-t;--i>r;)n=e[r],e[r++]=e[i],e[i]=n}function a(e,t){for(var n=0,i=e.length;i>n;){var r=n+i>>>1;t>e[r]?n=r+1:i=r}return n}function s(e){function t(e,t){e.forEach(function(e){0>e&&(e=~e);var n=r[e];n?n.push(t):r[e]=[t]})}function n(e,n){e.forEach(function(e){t(e,n)})}function i(e,t){"GeometryCollection"===e.type?e.geometries.forEach(function(e){i(e,t)}):e.type in s&&s[e.type](e.arcs,t)}var r={},o=e.map(function(){return[]}),s={LineString:t,MultiLineString:n,Polygon:n,MultiPolygon:function(e,t){e.forEach(function(e){n(e,t)})}};e.forEach(i);for(var l in r)for(var u=r[l],c=u.length,d=0;c>d;++d)for(var h=d+1;c>h;++h){var f,p=u[d],m=u[h];(f=o[p])[l=a(f,m)]!==m&&f.splice(l,0,m),(f=o[m])[l=a(f,p)]!==p&&f.splice(l,0,p)}return o}return{version:"1.1.4",mesh:t,feature:n,neighbors:s}}();